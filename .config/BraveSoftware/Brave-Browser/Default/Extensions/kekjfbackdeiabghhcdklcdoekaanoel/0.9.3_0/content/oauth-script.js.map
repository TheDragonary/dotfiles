{"version":3,"file":"content/oauth-script.js","mappings":"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","sources":["webpack://MALSync/./node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js","webpack://MALSync/./node_modules/@vue/shared/dist/shared.esm-bundler.js","webpack://MALSync/./node_modules/dompurify/dist/purify.js","webpack://MALSync/./src/api/storage/webextension.ts","webpack://MALSync/./src/api/request/requestWebextension.ts","webpack://MALSync/./src/api/settings.ts","webpack://MALSync/./src/api/webextension.ts","webpack://MALSync/./src/utils/console.ts","webpack://MALSync/./src/utils/general.ts","webpack://MALSync/./src/utils/j.ts","webpack://MALSync/webpack/bootstrap","webpack://MALSync/webpack/runtime/compat get default export","webpack://MALSync/webpack/runtime/define property getters","webpack://MALSync/webpack/runtime/global","webpack://MALSync/webpack/runtime/hasOwnProperty shorthand","webpack://MALSync/webpack/runtime/make namespace object","webpack://MALSync/./src/utils/oauth.ts","webpack://MALSync/./src/index-webextension/oauth.ts"],"sourcesContent":["import { extend, isArray, isMap, isIntegerKey, hasOwn, isSymbol, isObject, hasChanged, makeMap, capitalize, toRawType, def, isFunction, NOOP } from '@vue/shared';\n\nfunction warn(msg, ...args) {\n    console.warn(`[Vue warn] ${msg}`, ...args);\n}\n\nlet activeEffectScope;\nclass EffectScope {\n    constructor(detached = false) {\n        this.detached = detached;\n        /**\n         * @internal\n         */\n        this._active = true;\n        /**\n         * @internal\n         */\n        this.effects = [];\n        /**\n         * @internal\n         */\n        this.cleanups = [];\n        this.parent = activeEffectScope;\n        if (!detached && activeEffectScope) {\n            this.index =\n                (activeEffectScope.scopes || (activeEffectScope.scopes = [])).push(this) - 1;\n        }\n    }\n    get active() {\n        return this._active;\n    }\n    run(fn) {\n        if (this._active) {\n            const currentEffectScope = activeEffectScope;\n            try {\n                activeEffectScope = this;\n                return fn();\n            }\n            finally {\n                activeEffectScope = currentEffectScope;\n            }\n        }\n        else if ((process.env.NODE_ENV !== 'production')) {\n            warn(`cannot run an inactive effect scope.`);\n        }\n    }\n    /**\n     * This should only be called on non-detached scopes\n     * @internal\n     */\n    on() {\n        activeEffectScope = this;\n    }\n    /**\n     * This should only be called on non-detached scopes\n     * @internal\n     */\n    off() {\n        activeEffectScope = this.parent;\n    }\n    stop(fromParent) {\n        if (this._active) {\n            let i, l;\n            for (i = 0, l = this.effects.length; i < l; i++) {\n                this.effects[i].stop();\n            }\n            for (i = 0, l = this.cleanups.length; i < l; i++) {\n                this.cleanups[i]();\n            }\n            if (this.scopes) {\n                for (i = 0, l = this.scopes.length; i < l; i++) {\n                    this.scopes[i].stop(true);\n                }\n            }\n            // nested scope, dereference from parent to avoid memory leaks\n            if (!this.detached && this.parent && !fromParent) {\n                // optimized O(1) removal\n                const last = this.parent.scopes.pop();\n                if (last && last !== this) {\n                    this.parent.scopes[this.index] = last;\n                    last.index = this.index;\n                }\n            }\n            this.parent = undefined;\n            this._active = false;\n        }\n    }\n}\nfunction effectScope(detached) {\n    return new EffectScope(detached);\n}\nfunction recordEffectScope(effect, scope = activeEffectScope) {\n    if (scope && scope.active) {\n        scope.effects.push(effect);\n    }\n}\nfunction getCurrentScope() {\n    return activeEffectScope;\n}\nfunction onScopeDispose(fn) {\n    if (activeEffectScope) {\n        activeEffectScope.cleanups.push(fn);\n    }\n    else if ((process.env.NODE_ENV !== 'production')) {\n        warn(`onScopeDispose() is called when there is no active effect scope` +\n            ` to be associated with.`);\n    }\n}\n\nconst createDep = (effects) => {\n    const dep = new Set(effects);\n    dep.w = 0;\n    dep.n = 0;\n    return dep;\n};\nconst wasTracked = (dep) => (dep.w & trackOpBit) > 0;\nconst newTracked = (dep) => (dep.n & trackOpBit) > 0;\nconst initDepMarkers = ({ deps }) => {\n    if (deps.length) {\n        for (let i = 0; i < deps.length; i++) {\n            deps[i].w |= trackOpBit; // set was tracked\n        }\n    }\n};\nconst finalizeDepMarkers = (effect) => {\n    const { deps } = effect;\n    if (deps.length) {\n        let ptr = 0;\n        for (let i = 0; i < deps.length; i++) {\n            const dep = deps[i];\n            if (wasTracked(dep) && !newTracked(dep)) {\n                dep.delete(effect);\n            }\n            else {\n                deps[ptr++] = dep;\n            }\n            // clear bits\n            dep.w &= ~trackOpBit;\n            dep.n &= ~trackOpBit;\n        }\n        deps.length = ptr;\n    }\n};\n\nconst targetMap = new WeakMap();\n// The number of effects currently being tracked recursively.\nlet effectTrackDepth = 0;\nlet trackOpBit = 1;\n/**\n * The bitwise track markers support at most 30 levels of recursion.\n * This value is chosen to enable modern JS engines to use a SMI on all platforms.\n * When recursion depth is greater, fall back to using a full cleanup.\n */\nconst maxMarkerBits = 30;\nlet activeEffect;\nconst ITERATE_KEY = Symbol((process.env.NODE_ENV !== 'production') ? 'iterate' : '');\nconst MAP_KEY_ITERATE_KEY = Symbol((process.env.NODE_ENV !== 'production') ? 'Map key iterate' : '');\nclass ReactiveEffect {\n    constructor(fn, scheduler = null, scope) {\n        this.fn = fn;\n        this.scheduler = scheduler;\n        this.active = true;\n        this.deps = [];\n        this.parent = undefined;\n        recordEffectScope(this, scope);\n    }\n    run() {\n        if (!this.active) {\n            return this.fn();\n        }\n        let parent = activeEffect;\n        let lastShouldTrack = shouldTrack;\n        while (parent) {\n            if (parent === this) {\n                return;\n            }\n            parent = parent.parent;\n        }\n        try {\n            this.parent = activeEffect;\n            activeEffect = this;\n            shouldTrack = true;\n            trackOpBit = 1 << ++effectTrackDepth;\n            if (effectTrackDepth <= maxMarkerBits) {\n                initDepMarkers(this);\n            }\n            else {\n                cleanupEffect(this);\n            }\n            return this.fn();\n        }\n        finally {\n            if (effectTrackDepth <= maxMarkerBits) {\n                finalizeDepMarkers(this);\n            }\n            trackOpBit = 1 << --effectTrackDepth;\n            activeEffect = this.parent;\n            shouldTrack = lastShouldTrack;\n            this.parent = undefined;\n            if (this.deferStop) {\n                this.stop();\n            }\n        }\n    }\n    stop() {\n        // stopped while running itself - defer the cleanup\n        if (activeEffect === this) {\n            this.deferStop = true;\n        }\n        else if (this.active) {\n            cleanupEffect(this);\n            if (this.onStop) {\n                this.onStop();\n            }\n            this.active = false;\n        }\n    }\n}\nfunction cleanupEffect(effect) {\n    const { deps } = effect;\n    if (deps.length) {\n        for (let i = 0; i < deps.length; i++) {\n            deps[i].delete(effect);\n        }\n        deps.length = 0;\n    }\n}\nfunction effect(fn, options) {\n    if (fn.effect) {\n        fn = fn.effect.fn;\n    }\n    const _effect = new ReactiveEffect(fn);\n    if (options) {\n        extend(_effect, options);\n        if (options.scope)\n            recordEffectScope(_effect, options.scope);\n    }\n    if (!options || !options.lazy) {\n        _effect.run();\n    }\n    const runner = _effect.run.bind(_effect);\n    runner.effect = _effect;\n    return runner;\n}\nfunction stop(runner) {\n    runner.effect.stop();\n}\nlet shouldTrack = true;\nconst trackStack = [];\nfunction pauseTracking() {\n    trackStack.push(shouldTrack);\n    shouldTrack = false;\n}\nfunction enableTracking() {\n    trackStack.push(shouldTrack);\n    shouldTrack = true;\n}\nfunction resetTracking() {\n    const last = trackStack.pop();\n    shouldTrack = last === undefined ? true : last;\n}\nfunction track(target, type, key) {\n    if (shouldTrack && activeEffect) {\n        let depsMap = targetMap.get(target);\n        if (!depsMap) {\n            targetMap.set(target, (depsMap = new Map()));\n        }\n        let dep = depsMap.get(key);\n        if (!dep) {\n            depsMap.set(key, (dep = createDep()));\n        }\n        const eventInfo = (process.env.NODE_ENV !== 'production')\n            ? { effect: activeEffect, target, type, key }\n            : undefined;\n        trackEffects(dep, eventInfo);\n    }\n}\nfunction trackEffects(dep, debuggerEventExtraInfo) {\n    let shouldTrack = false;\n    if (effectTrackDepth <= maxMarkerBits) {\n        if (!newTracked(dep)) {\n            dep.n |= trackOpBit; // set newly tracked\n            shouldTrack = !wasTracked(dep);\n        }\n    }\n    else {\n        // Full cleanup mode.\n        shouldTrack = !dep.has(activeEffect);\n    }\n    if (shouldTrack) {\n        dep.add(activeEffect);\n        activeEffect.deps.push(dep);\n        if ((process.env.NODE_ENV !== 'production') && activeEffect.onTrack) {\n            activeEffect.onTrack(Object.assign({ effect: activeEffect }, debuggerEventExtraInfo));\n        }\n    }\n}\nfunction trigger(target, type, key, newValue, oldValue, oldTarget) {\n    const depsMap = targetMap.get(target);\n    if (!depsMap) {\n        // never been tracked\n        return;\n    }\n    let deps = [];\n    if (type === \"clear\" /* TriggerOpTypes.CLEAR */) {\n        // collection being cleared\n        // trigger all effects for target\n        deps = [...depsMap.values()];\n    }\n    else if (key === 'length' && isArray(target)) {\n        const newLength = Number(newValue);\n        depsMap.forEach((dep, key) => {\n            if (key === 'length' || key >= newLength) {\n                deps.push(dep);\n            }\n        });\n    }\n    else {\n        // schedule runs for SET | ADD | DELETE\n        if (key !== void 0) {\n            deps.push(depsMap.get(key));\n        }\n        // also run for iteration key on ADD | DELETE | Map.SET\n        switch (type) {\n            case \"add\" /* TriggerOpTypes.ADD */:\n                if (!isArray(target)) {\n                    deps.push(depsMap.get(ITERATE_KEY));\n                    if (isMap(target)) {\n                        deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));\n                    }\n                }\n                else if (isIntegerKey(key)) {\n                    // new index added to array -> length changes\n                    deps.push(depsMap.get('length'));\n                }\n                break;\n            case \"delete\" /* TriggerOpTypes.DELETE */:\n                if (!isArray(target)) {\n                    deps.push(depsMap.get(ITERATE_KEY));\n                    if (isMap(target)) {\n                        deps.push(depsMap.get(MAP_KEY_ITERATE_KEY));\n                    }\n                }\n                break;\n            case \"set\" /* TriggerOpTypes.SET */:\n                if (isMap(target)) {\n                    deps.push(depsMap.get(ITERATE_KEY));\n                }\n                break;\n        }\n    }\n    const eventInfo = (process.env.NODE_ENV !== 'production')\n        ? { target, type, key, newValue, oldValue, oldTarget }\n        : undefined;\n    if (deps.length === 1) {\n        if (deps[0]) {\n            if ((process.env.NODE_ENV !== 'production')) {\n                triggerEffects(deps[0], eventInfo);\n            }\n            else {\n                triggerEffects(deps[0]);\n            }\n        }\n    }\n    else {\n        const effects = [];\n        for (const dep of deps) {\n            if (dep) {\n                effects.push(...dep);\n            }\n        }\n        if ((process.env.NODE_ENV !== 'production')) {\n            triggerEffects(createDep(effects), eventInfo);\n        }\n        else {\n            triggerEffects(createDep(effects));\n        }\n    }\n}\nfunction triggerEffects(dep, debuggerEventExtraInfo) {\n    // spread into array for stabilization\n    const effects = isArray(dep) ? dep : [...dep];\n    for (const effect of effects) {\n        if (effect.computed) {\n            triggerEffect(effect, debuggerEventExtraInfo);\n        }\n    }\n    for (const effect of effects) {\n        if (!effect.computed) {\n            triggerEffect(effect, debuggerEventExtraInfo);\n        }\n    }\n}\nfunction triggerEffect(effect, debuggerEventExtraInfo) {\n    if (effect !== activeEffect || effect.allowRecurse) {\n        if ((process.env.NODE_ENV !== 'production') && effect.onTrigger) {\n            effect.onTrigger(extend({ effect }, debuggerEventExtraInfo));\n        }\n        if (effect.scheduler) {\n            effect.scheduler();\n        }\n        else {\n            effect.run();\n        }\n    }\n}\nfunction getDepFromReactive(object, key) {\n    var _a;\n    return (_a = targetMap.get(object)) === null || _a === void 0 ? void 0 : _a.get(key);\n}\n\nconst isNonTrackableKeys = /*#__PURE__*/ makeMap(`__proto__,__v_isRef,__isVue`);\nconst builtInSymbols = new Set(\n/*#__PURE__*/\nObject.getOwnPropertyNames(Symbol)\n    // ios10.x Object.getOwnPropertyNames(Symbol) can enumerate 'arguments' and 'caller'\n    // but accessing them on Symbol leads to TypeError because Symbol is a strict mode\n    // function\n    .filter(key => key !== 'arguments' && key !== 'caller')\n    .map(key => Symbol[key])\n    .filter(isSymbol));\nconst get$1 = /*#__PURE__*/ createGetter();\nconst shallowGet = /*#__PURE__*/ createGetter(false, true);\nconst readonlyGet = /*#__PURE__*/ createGetter(true);\nconst shallowReadonlyGet = /*#__PURE__*/ createGetter(true, true);\nconst arrayInstrumentations = /*#__PURE__*/ createArrayInstrumentations();\nfunction createArrayInstrumentations() {\n    const instrumentations = {};\n    ['includes', 'indexOf', 'lastIndexOf'].forEach(key => {\n        instrumentations[key] = function (...args) {\n            const arr = toRaw(this);\n            for (let i = 0, l = this.length; i < l; i++) {\n                track(arr, \"get\" /* TrackOpTypes.GET */, i + '');\n            }\n            // we run the method using the original args first (which may be reactive)\n            const res = arr[key](...args);\n            if (res === -1 || res === false) {\n                // if that didn't work, run it again using raw values.\n                return arr[key](...args.map(toRaw));\n            }\n            else {\n                return res;\n            }\n        };\n    });\n    ['push', 'pop', 'shift', 'unshift', 'splice'].forEach(key => {\n        instrumentations[key] = function (...args) {\n            pauseTracking();\n            const res = toRaw(this)[key].apply(this, args);\n            resetTracking();\n            return res;\n        };\n    });\n    return instrumentations;\n}\nfunction hasOwnProperty(key) {\n    const obj = toRaw(this);\n    track(obj, \"has\" /* TrackOpTypes.HAS */, key);\n    return obj.hasOwnProperty(key);\n}\nfunction createGetter(isReadonly = false, shallow = false) {\n    return function get(target, key, receiver) {\n        if (key === \"__v_isReactive\" /* ReactiveFlags.IS_REACTIVE */) {\n            return !isReadonly;\n        }\n        else if (key === \"__v_isReadonly\" /* ReactiveFlags.IS_READONLY */) {\n            return isReadonly;\n        }\n        else if (key === \"__v_isShallow\" /* ReactiveFlags.IS_SHALLOW */) {\n            return shallow;\n        }\n        else if (key === \"__v_raw\" /* ReactiveFlags.RAW */ &&\n            receiver ===\n                (isReadonly\n                    ? shallow\n                        ? shallowReadonlyMap\n                        : readonlyMap\n                    : shallow\n                        ? shallowReactiveMap\n                        : reactiveMap).get(target)) {\n            return target;\n        }\n        const targetIsArray = isArray(target);\n        if (!isReadonly) {\n            if (targetIsArray && hasOwn(arrayInstrumentations, key)) {\n                return Reflect.get(arrayInstrumentations, key, receiver);\n            }\n            if (key === 'hasOwnProperty') {\n                return hasOwnProperty;\n            }\n        }\n        const res = Reflect.get(target, key, receiver);\n        if (isSymbol(key) ? builtInSymbols.has(key) : isNonTrackableKeys(key)) {\n            return res;\n        }\n        if (!isReadonly) {\n            track(target, \"get\" /* TrackOpTypes.GET */, key);\n        }\n        if (shallow) {\n            return res;\n        }\n        if (isRef(res)) {\n            // ref unwrapping - skip unwrap for Array + integer key.\n            return targetIsArray && isIntegerKey(key) ? res : res.value;\n        }\n        if (isObject(res)) {\n            // Convert returned value into a proxy as well. we do the isObject check\n            // here to avoid invalid value warning. Also need to lazy access readonly\n            // and reactive here to avoid circular dependency.\n            return isReadonly ? readonly(res) : reactive(res);\n        }\n        return res;\n    };\n}\nconst set$1 = /*#__PURE__*/ createSetter();\nconst shallowSet = /*#__PURE__*/ createSetter(true);\nfunction createSetter(shallow = false) {\n    return function set(target, key, value, receiver) {\n        let oldValue = target[key];\n        if (isReadonly(oldValue) && isRef(oldValue) && !isRef(value)) {\n            return false;\n        }\n        if (!shallow) {\n            if (!isShallow(value) && !isReadonly(value)) {\n                oldValue = toRaw(oldValue);\n                value = toRaw(value);\n            }\n            if (!isArray(target) && isRef(oldValue) && !isRef(value)) {\n                oldValue.value = value;\n                return true;\n            }\n        }\n        const hadKey = isArray(target) && isIntegerKey(key)\n            ? Number(key) < target.length\n            : hasOwn(target, key);\n        const result = Reflect.set(target, key, value, receiver);\n        // don't trigger if target is something up in the prototype chain of original\n        if (target === toRaw(receiver)) {\n            if (!hadKey) {\n                trigger(target, \"add\" /* TriggerOpTypes.ADD */, key, value);\n            }\n            else if (hasChanged(value, oldValue)) {\n                trigger(target, \"set\" /* TriggerOpTypes.SET */, key, value, oldValue);\n            }\n        }\n        return result;\n    };\n}\nfunction deleteProperty(target, key) {\n    const hadKey = hasOwn(target, key);\n    const oldValue = target[key];\n    const result = Reflect.deleteProperty(target, key);\n    if (result && hadKey) {\n        trigger(target, \"delete\" /* TriggerOpTypes.DELETE */, key, undefined, oldValue);\n    }\n    return result;\n}\nfunction has$1(target, key) {\n    const result = Reflect.has(target, key);\n    if (!isSymbol(key) || !builtInSymbols.has(key)) {\n        track(target, \"has\" /* TrackOpTypes.HAS */, key);\n    }\n    return result;\n}\nfunction ownKeys(target) {\n    track(target, \"iterate\" /* TrackOpTypes.ITERATE */, isArray(target) ? 'length' : ITERATE_KEY);\n    return Reflect.ownKeys(target);\n}\nconst mutableHandlers = {\n    get: get$1,\n    set: set$1,\n    deleteProperty,\n    has: has$1,\n    ownKeys\n};\nconst readonlyHandlers = {\n    get: readonlyGet,\n    set(target, key) {\n        if ((process.env.NODE_ENV !== 'production')) {\n            warn(`Set operation on key \"${String(key)}\" failed: target is readonly.`, target);\n        }\n        return true;\n    },\n    deleteProperty(target, key) {\n        if ((process.env.NODE_ENV !== 'production')) {\n            warn(`Delete operation on key \"${String(key)}\" failed: target is readonly.`, target);\n        }\n        return true;\n    }\n};\nconst shallowReactiveHandlers = /*#__PURE__*/ extend({}, mutableHandlers, {\n    get: shallowGet,\n    set: shallowSet\n});\n// Props handlers are special in the sense that it should not unwrap top-level\n// refs (in order to allow refs to be explicitly passed down), but should\n// retain the reactivity of the normal readonly object.\nconst shallowReadonlyHandlers = /*#__PURE__*/ extend({}, readonlyHandlers, {\n    get: shallowReadonlyGet\n});\n\nconst toShallow = (value) => value;\nconst getProto = (v) => Reflect.getPrototypeOf(v);\nfunction get(target, key, isReadonly = false, isShallow = false) {\n    // #1772: readonly(reactive(Map)) should return readonly + reactive version\n    // of the value\n    target = target[\"__v_raw\" /* ReactiveFlags.RAW */];\n    const rawTarget = toRaw(target);\n    const rawKey = toRaw(key);\n    if (!isReadonly) {\n        if (key !== rawKey) {\n            track(rawTarget, \"get\" /* TrackOpTypes.GET */, key);\n        }\n        track(rawTarget, \"get\" /* TrackOpTypes.GET */, rawKey);\n    }\n    const { has } = getProto(rawTarget);\n    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\n    if (has.call(rawTarget, key)) {\n        return wrap(target.get(key));\n    }\n    else if (has.call(rawTarget, rawKey)) {\n        return wrap(target.get(rawKey));\n    }\n    else if (target !== rawTarget) {\n        // #3602 readonly(reactive(Map))\n        // ensure that the nested reactive `Map` can do tracking for itself\n        target.get(key);\n    }\n}\nfunction has(key, isReadonly = false) {\n    const target = this[\"__v_raw\" /* ReactiveFlags.RAW */];\n    const rawTarget = toRaw(target);\n    const rawKey = toRaw(key);\n    if (!isReadonly) {\n        if (key !== rawKey) {\n            track(rawTarget, \"has\" /* TrackOpTypes.HAS */, key);\n        }\n        track(rawTarget, \"has\" /* TrackOpTypes.HAS */, rawKey);\n    }\n    return key === rawKey\n        ? target.has(key)\n        : target.has(key) || target.has(rawKey);\n}\nfunction size(target, isReadonly = false) {\n    target = target[\"__v_raw\" /* ReactiveFlags.RAW */];\n    !isReadonly && track(toRaw(target), \"iterate\" /* TrackOpTypes.ITERATE */, ITERATE_KEY);\n    return Reflect.get(target, 'size', target);\n}\nfunction add(value) {\n    value = toRaw(value);\n    const target = toRaw(this);\n    const proto = getProto(target);\n    const hadKey = proto.has.call(target, value);\n    if (!hadKey) {\n        target.add(value);\n        trigger(target, \"add\" /* TriggerOpTypes.ADD */, value, value);\n    }\n    return this;\n}\nfunction set(key, value) {\n    value = toRaw(value);\n    const target = toRaw(this);\n    const { has, get } = getProto(target);\n    let hadKey = has.call(target, key);\n    if (!hadKey) {\n        key = toRaw(key);\n        hadKey = has.call(target, key);\n    }\n    else if ((process.env.NODE_ENV !== 'production')) {\n        checkIdentityKeys(target, has, key);\n    }\n    const oldValue = get.call(target, key);\n    target.set(key, value);\n    if (!hadKey) {\n        trigger(target, \"add\" /* TriggerOpTypes.ADD */, key, value);\n    }\n    else if (hasChanged(value, oldValue)) {\n        trigger(target, \"set\" /* TriggerOpTypes.SET */, key, value, oldValue);\n    }\n    return this;\n}\nfunction deleteEntry(key) {\n    const target = toRaw(this);\n    const { has, get } = getProto(target);\n    let hadKey = has.call(target, key);\n    if (!hadKey) {\n        key = toRaw(key);\n        hadKey = has.call(target, key);\n    }\n    else if ((process.env.NODE_ENV !== 'production')) {\n        checkIdentityKeys(target, has, key);\n    }\n    const oldValue = get ? get.call(target, key) : undefined;\n    // forward the operation before queueing reactions\n    const result = target.delete(key);\n    if (hadKey) {\n        trigger(target, \"delete\" /* TriggerOpTypes.DELETE */, key, undefined, oldValue);\n    }\n    return result;\n}\nfunction clear() {\n    const target = toRaw(this);\n    const hadItems = target.size !== 0;\n    const oldTarget = (process.env.NODE_ENV !== 'production')\n        ? isMap(target)\n            ? new Map(target)\n            : new Set(target)\n        : undefined;\n    // forward the operation before queueing reactions\n    const result = target.clear();\n    if (hadItems) {\n        trigger(target, \"clear\" /* TriggerOpTypes.CLEAR */, undefined, undefined, oldTarget);\n    }\n    return result;\n}\nfunction createForEach(isReadonly, isShallow) {\n    return function forEach(callback, thisArg) {\n        const observed = this;\n        const target = observed[\"__v_raw\" /* ReactiveFlags.RAW */];\n        const rawTarget = toRaw(target);\n        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\n        !isReadonly && track(rawTarget, \"iterate\" /* TrackOpTypes.ITERATE */, ITERATE_KEY);\n        return target.forEach((value, key) => {\n            // important: make sure the callback is\n            // 1. invoked with the reactive map as `this` and 3rd arg\n            // 2. the value received should be a corresponding reactive/readonly.\n            return callback.call(thisArg, wrap(value), wrap(key), observed);\n        });\n    };\n}\nfunction createIterableMethod(method, isReadonly, isShallow) {\n    return function (...args) {\n        const target = this[\"__v_raw\" /* ReactiveFlags.RAW */];\n        const rawTarget = toRaw(target);\n        const targetIsMap = isMap(rawTarget);\n        const isPair = method === 'entries' || (method === Symbol.iterator && targetIsMap);\n        const isKeyOnly = method === 'keys' && targetIsMap;\n        const innerIterator = target[method](...args);\n        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\n        !isReadonly &&\n            track(rawTarget, \"iterate\" /* TrackOpTypes.ITERATE */, isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY);\n        // return a wrapped iterator which returns observed versions of the\n        // values emitted from the real iterator\n        return {\n            // iterator protocol\n            next() {\n                const { value, done } = innerIterator.next();\n                return done\n                    ? { value, done }\n                    : {\n                        value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),\n                        done\n                    };\n            },\n            // iterable protocol\n            [Symbol.iterator]() {\n                return this;\n            }\n        };\n    };\n}\nfunction createReadonlyMethod(type) {\n    return function (...args) {\n        if ((process.env.NODE_ENV !== 'production')) {\n            const key = args[0] ? `on key \"${args[0]}\" ` : ``;\n            console.warn(`${capitalize(type)} operation ${key}failed: target is readonly.`, toRaw(this));\n        }\n        return type === \"delete\" /* TriggerOpTypes.DELETE */ ? false : this;\n    };\n}\nfunction createInstrumentations() {\n    const mutableInstrumentations = {\n        get(key) {\n            return get(this, key);\n        },\n        get size() {\n            return size(this);\n        },\n        has,\n        add,\n        set,\n        delete: deleteEntry,\n        clear,\n        forEach: createForEach(false, false)\n    };\n    const shallowInstrumentations = {\n        get(key) {\n            return get(this, key, false, true);\n        },\n        get size() {\n            return size(this);\n        },\n        has,\n        add,\n        set,\n        delete: deleteEntry,\n        clear,\n        forEach: createForEach(false, true)\n    };\n    const readonlyInstrumentations = {\n        get(key) {\n            return get(this, key, true);\n        },\n        get size() {\n            return size(this, true);\n        },\n        has(key) {\n            return has.call(this, key, true);\n        },\n        add: createReadonlyMethod(\"add\" /* TriggerOpTypes.ADD */),\n        set: createReadonlyMethod(\"set\" /* TriggerOpTypes.SET */),\n        delete: createReadonlyMethod(\"delete\" /* TriggerOpTypes.DELETE */),\n        clear: createReadonlyMethod(\"clear\" /* TriggerOpTypes.CLEAR */),\n        forEach: createForEach(true, false)\n    };\n    const shallowReadonlyInstrumentations = {\n        get(key) {\n            return get(this, key, true, true);\n        },\n        get size() {\n            return size(this, true);\n        },\n        has(key) {\n            return has.call(this, key, true);\n        },\n        add: createReadonlyMethod(\"add\" /* TriggerOpTypes.ADD */),\n        set: createReadonlyMethod(\"set\" /* TriggerOpTypes.SET */),\n        delete: createReadonlyMethod(\"delete\" /* TriggerOpTypes.DELETE */),\n        clear: createReadonlyMethod(\"clear\" /* TriggerOpTypes.CLEAR */),\n        forEach: createForEach(true, true)\n    };\n    const iteratorMethods = ['keys', 'values', 'entries', Symbol.iterator];\n    iteratorMethods.forEach(method => {\n        mutableInstrumentations[method] = createIterableMethod(method, false, false);\n        readonlyInstrumentations[method] = createIterableMethod(method, true, false);\n        shallowInstrumentations[method] = createIterableMethod(method, false, true);\n        shallowReadonlyInstrumentations[method] = createIterableMethod(method, true, true);\n    });\n    return [\n        mutableInstrumentations,\n        readonlyInstrumentations,\n        shallowInstrumentations,\n        shallowReadonlyInstrumentations\n    ];\n}\nconst [mutableInstrumentations, readonlyInstrumentations, shallowInstrumentations, shallowReadonlyInstrumentations] = /* #__PURE__*/ createInstrumentations();\nfunction createInstrumentationGetter(isReadonly, shallow) {\n    const instrumentations = shallow\n        ? isReadonly\n            ? shallowReadonlyInstrumentations\n            : shallowInstrumentations\n        : isReadonly\n            ? readonlyInstrumentations\n            : mutableInstrumentations;\n    return (target, key, receiver) => {\n        if (key === \"__v_isReactive\" /* ReactiveFlags.IS_REACTIVE */) {\n            return !isReadonly;\n        }\n        else if (key === \"__v_isReadonly\" /* ReactiveFlags.IS_READONLY */) {\n            return isReadonly;\n        }\n        else if (key === \"__v_raw\" /* ReactiveFlags.RAW */) {\n            return target;\n        }\n        return Reflect.get(hasOwn(instrumentations, key) && key in target\n            ? instrumentations\n            : target, key, receiver);\n    };\n}\nconst mutableCollectionHandlers = {\n    get: /*#__PURE__*/ createInstrumentationGetter(false, false)\n};\nconst shallowCollectionHandlers = {\n    get: /*#__PURE__*/ createInstrumentationGetter(false, true)\n};\nconst readonlyCollectionHandlers = {\n    get: /*#__PURE__*/ createInstrumentationGetter(true, false)\n};\nconst shallowReadonlyCollectionHandlers = {\n    get: /*#__PURE__*/ createInstrumentationGetter(true, true)\n};\nfunction checkIdentityKeys(target, has, key) {\n    const rawKey = toRaw(key);\n    if (rawKey !== key && has.call(target, rawKey)) {\n        const type = toRawType(target);\n        console.warn(`Reactive ${type} contains both the raw and reactive ` +\n            `versions of the same object${type === `Map` ? ` as keys` : ``}, ` +\n            `which can lead to inconsistencies. ` +\n            `Avoid differentiating between the raw and reactive versions ` +\n            `of an object and only use the reactive version if possible.`);\n    }\n}\n\nconst reactiveMap = new WeakMap();\nconst shallowReactiveMap = new WeakMap();\nconst readonlyMap = new WeakMap();\nconst shallowReadonlyMap = new WeakMap();\nfunction targetTypeMap(rawType) {\n    switch (rawType) {\n        case 'Object':\n        case 'Array':\n            return 1 /* TargetType.COMMON */;\n        case 'Map':\n        case 'Set':\n        case 'WeakMap':\n        case 'WeakSet':\n            return 2 /* TargetType.COLLECTION */;\n        default:\n            return 0 /* TargetType.INVALID */;\n    }\n}\nfunction getTargetType(value) {\n    return value[\"__v_skip\" /* ReactiveFlags.SKIP */] || !Object.isExtensible(value)\n        ? 0 /* TargetType.INVALID */\n        : targetTypeMap(toRawType(value));\n}\nfunction reactive(target) {\n    // if trying to observe a readonly proxy, return the readonly version.\n    if (isReadonly(target)) {\n        return target;\n    }\n    return createReactiveObject(target, false, mutableHandlers, mutableCollectionHandlers, reactiveMap);\n}\n/**\n * Return a shallowly-reactive copy of the original object, where only the root\n * level properties are reactive. It also does not auto-unwrap refs (even at the\n * root level).\n */\nfunction shallowReactive(target) {\n    return createReactiveObject(target, false, shallowReactiveHandlers, shallowCollectionHandlers, shallowReactiveMap);\n}\n/**\n * Creates a readonly copy of the original object. Note the returned copy is not\n * made reactive, but `readonly` can be called on an already reactive object.\n */\nfunction readonly(target) {\n    return createReactiveObject(target, true, readonlyHandlers, readonlyCollectionHandlers, readonlyMap);\n}\n/**\n * Returns a reactive-copy of the original object, where only the root level\n * properties are readonly, and does NOT unwrap refs nor recursively convert\n * returned properties.\n * This is used for creating the props proxy object for stateful components.\n */\nfunction shallowReadonly(target) {\n    return createReactiveObject(target, true, shallowReadonlyHandlers, shallowReadonlyCollectionHandlers, shallowReadonlyMap);\n}\nfunction createReactiveObject(target, isReadonly, baseHandlers, collectionHandlers, proxyMap) {\n    if (!isObject(target)) {\n        if ((process.env.NODE_ENV !== 'production')) {\n            console.warn(`value cannot be made reactive: ${String(target)}`);\n        }\n        return target;\n    }\n    // target is already a Proxy, return it.\n    // exception: calling readonly() on a reactive object\n    if (target[\"__v_raw\" /* ReactiveFlags.RAW */] &&\n        !(isReadonly && target[\"__v_isReactive\" /* ReactiveFlags.IS_REACTIVE */])) {\n        return target;\n    }\n    // target already has corresponding Proxy\n    const existingProxy = proxyMap.get(target);\n    if (existingProxy) {\n        return existingProxy;\n    }\n    // only specific value types can be observed.\n    const targetType = getTargetType(target);\n    if (targetType === 0 /* TargetType.INVALID */) {\n        return target;\n    }\n    const proxy = new Proxy(target, targetType === 2 /* TargetType.COLLECTION */ ? collectionHandlers : baseHandlers);\n    proxyMap.set(target, proxy);\n    return proxy;\n}\nfunction isReactive(value) {\n    if (isReadonly(value)) {\n        return isReactive(value[\"__v_raw\" /* ReactiveFlags.RAW */]);\n    }\n    return !!(value && value[\"__v_isReactive\" /* ReactiveFlags.IS_REACTIVE */]);\n}\nfunction isReadonly(value) {\n    return !!(value && value[\"__v_isReadonly\" /* ReactiveFlags.IS_READONLY */]);\n}\nfunction isShallow(value) {\n    return !!(value && value[\"__v_isShallow\" /* ReactiveFlags.IS_SHALLOW */]);\n}\nfunction isProxy(value) {\n    return isReactive(value) || isReadonly(value);\n}\nfunction toRaw(observed) {\n    const raw = observed && observed[\"__v_raw\" /* ReactiveFlags.RAW */];\n    return raw ? toRaw(raw) : observed;\n}\nfunction markRaw(value) {\n    def(value, \"__v_skip\" /* ReactiveFlags.SKIP */, true);\n    return value;\n}\nconst toReactive = (value) => isObject(value) ? reactive(value) : value;\nconst toReadonly = (value) => isObject(value) ? readonly(value) : value;\n\nfunction trackRefValue(ref) {\n    if (shouldTrack && activeEffect) {\n        ref = toRaw(ref);\n        if ((process.env.NODE_ENV !== 'production')) {\n            trackEffects(ref.dep || (ref.dep = createDep()), {\n                target: ref,\n                type: \"get\" /* TrackOpTypes.GET */,\n                key: 'value'\n            });\n        }\n        else {\n            trackEffects(ref.dep || (ref.dep = createDep()));\n        }\n    }\n}\nfunction triggerRefValue(ref, newVal) {\n    ref = toRaw(ref);\n    const dep = ref.dep;\n    if (dep) {\n        if ((process.env.NODE_ENV !== 'production')) {\n            triggerEffects(dep, {\n                target: ref,\n                type: \"set\" /* TriggerOpTypes.SET */,\n                key: 'value',\n                newValue: newVal\n            });\n        }\n        else {\n            triggerEffects(dep);\n        }\n    }\n}\nfunction isRef(r) {\n    return !!(r && r.__v_isRef === true);\n}\nfunction ref(value) {\n    return createRef(value, false);\n}\nfunction shallowRef(value) {\n    return createRef(value, true);\n}\nfunction createRef(rawValue, shallow) {\n    if (isRef(rawValue)) {\n        return rawValue;\n    }\n    return new RefImpl(rawValue, shallow);\n}\nclass RefImpl {\n    constructor(value, __v_isShallow) {\n        this.__v_isShallow = __v_isShallow;\n        this.dep = undefined;\n        this.__v_isRef = true;\n        this._rawValue = __v_isShallow ? value : toRaw(value);\n        this._value = __v_isShallow ? value : toReactive(value);\n    }\n    get value() {\n        trackRefValue(this);\n        return this._value;\n    }\n    set value(newVal) {\n        const useDirectValue = this.__v_isShallow || isShallow(newVal) || isReadonly(newVal);\n        newVal = useDirectValue ? newVal : toRaw(newVal);\n        if (hasChanged(newVal, this._rawValue)) {\n            this._rawValue = newVal;\n            this._value = useDirectValue ? newVal : toReactive(newVal);\n            triggerRefValue(this, newVal);\n        }\n    }\n}\nfunction triggerRef(ref) {\n    triggerRefValue(ref, (process.env.NODE_ENV !== 'production') ? ref.value : void 0);\n}\nfunction unref(ref) {\n    return isRef(ref) ? ref.value : ref;\n}\nconst shallowUnwrapHandlers = {\n    get: (target, key, receiver) => unref(Reflect.get(target, key, receiver)),\n    set: (target, key, value, receiver) => {\n        const oldValue = target[key];\n        if (isRef(oldValue) && !isRef(value)) {\n            oldValue.value = value;\n            return true;\n        }\n        else {\n            return Reflect.set(target, key, value, receiver);\n        }\n    }\n};\nfunction proxyRefs(objectWithRefs) {\n    return isReactive(objectWithRefs)\n        ? objectWithRefs\n        : new Proxy(objectWithRefs, shallowUnwrapHandlers);\n}\nclass CustomRefImpl {\n    constructor(factory) {\n        this.dep = undefined;\n        this.__v_isRef = true;\n        const { get, set } = factory(() => trackRefValue(this), () => triggerRefValue(this));\n        this._get = get;\n        this._set = set;\n    }\n    get value() {\n        return this._get();\n    }\n    set value(newVal) {\n        this._set(newVal);\n    }\n}\nfunction customRef(factory) {\n    return new CustomRefImpl(factory);\n}\nfunction toRefs(object) {\n    if ((process.env.NODE_ENV !== 'production') && !isProxy(object)) {\n        console.warn(`toRefs() expects a reactive object but received a plain one.`);\n    }\n    const ret = isArray(object) ? new Array(object.length) : {};\n    for (const key in object) {\n        ret[key] = toRef(object, key);\n    }\n    return ret;\n}\nclass ObjectRefImpl {\n    constructor(_object, _key, _defaultValue) {\n        this._object = _object;\n        this._key = _key;\n        this._defaultValue = _defaultValue;\n        this.__v_isRef = true;\n    }\n    get value() {\n        const val = this._object[this._key];\n        return val === undefined ? this._defaultValue : val;\n    }\n    set value(newVal) {\n        this._object[this._key] = newVal;\n    }\n    get dep() {\n        return getDepFromReactive(toRaw(this._object), this._key);\n    }\n}\nfunction toRef(object, key, defaultValue) {\n    const val = object[key];\n    return isRef(val)\n        ? val\n        : new ObjectRefImpl(object, key, defaultValue);\n}\n\nvar _a$1;\nclass ComputedRefImpl {\n    constructor(getter, _setter, isReadonly, isSSR) {\n        this._setter = _setter;\n        this.dep = undefined;\n        this.__v_isRef = true;\n        this[_a$1] = false;\n        this._dirty = true;\n        this.effect = new ReactiveEffect(getter, () => {\n            if (!this._dirty) {\n                this._dirty = true;\n                triggerRefValue(this);\n            }\n        });\n        this.effect.computed = this;\n        this.effect.active = this._cacheable = !isSSR;\n        this[\"__v_isReadonly\" /* ReactiveFlags.IS_READONLY */] = isReadonly;\n    }\n    get value() {\n        // the computed ref may get wrapped by other proxies e.g. readonly() #3376\n        const self = toRaw(this);\n        trackRefValue(self);\n        if (self._dirty || !self._cacheable) {\n            self._dirty = false;\n            self._value = self.effect.run();\n        }\n        return self._value;\n    }\n    set value(newValue) {\n        this._setter(newValue);\n    }\n}\n_a$1 = \"__v_isReadonly\" /* ReactiveFlags.IS_READONLY */;\nfunction computed(getterOrOptions, debugOptions, isSSR = false) {\n    let getter;\n    let setter;\n    const onlyGetter = isFunction(getterOrOptions);\n    if (onlyGetter) {\n        getter = getterOrOptions;\n        setter = (process.env.NODE_ENV !== 'production')\n            ? () => {\n                console.warn('Write operation failed: computed value is readonly');\n            }\n            : NOOP;\n    }\n    else {\n        getter = getterOrOptions.get;\n        setter = getterOrOptions.set;\n    }\n    const cRef = new ComputedRefImpl(getter, setter, onlyGetter || !setter, isSSR);\n    if ((process.env.NODE_ENV !== 'production') && debugOptions && !isSSR) {\n        cRef.effect.onTrack = debugOptions.onTrack;\n        cRef.effect.onTrigger = debugOptions.onTrigger;\n    }\n    return cRef;\n}\n\nvar _a;\nconst tick = /*#__PURE__*/ Promise.resolve();\nconst queue = [];\nlet queued = false;\nconst scheduler = (fn) => {\n    queue.push(fn);\n    if (!queued) {\n        queued = true;\n        tick.then(flush);\n    }\n};\nconst flush = () => {\n    for (let i = 0; i < queue.length; i++) {\n        queue[i]();\n    }\n    queue.length = 0;\n    queued = false;\n};\nclass DeferredComputedRefImpl {\n    constructor(getter) {\n        this.dep = undefined;\n        this._dirty = true;\n        this.__v_isRef = true;\n        this[_a] = true;\n        let compareTarget;\n        let hasCompareTarget = false;\n        let scheduled = false;\n        this.effect = new ReactiveEffect(getter, (computedTrigger) => {\n            if (this.dep) {\n                if (computedTrigger) {\n                    compareTarget = this._value;\n                    hasCompareTarget = true;\n                }\n                else if (!scheduled) {\n                    const valueToCompare = hasCompareTarget ? compareTarget : this._value;\n                    scheduled = true;\n                    hasCompareTarget = false;\n                    scheduler(() => {\n                        if (this.effect.active && this._get() !== valueToCompare) {\n                            triggerRefValue(this);\n                        }\n                        scheduled = false;\n                    });\n                }\n                // chained upstream computeds are notified synchronously to ensure\n                // value invalidation in case of sync access; normal effects are\n                // deferred to be triggered in scheduler.\n                for (const e of this.dep) {\n                    if (e.computed instanceof DeferredComputedRefImpl) {\n                        e.scheduler(true /* computedTrigger */);\n                    }\n                }\n            }\n            this._dirty = true;\n        });\n        this.effect.computed = this;\n    }\n    _get() {\n        if (this._dirty) {\n            this._dirty = false;\n            return (this._value = this.effect.run());\n        }\n        return this._value;\n    }\n    get value() {\n        trackRefValue(this);\n        // the computed ref may get wrapped by other proxies e.g. readonly() #3376\n        return toRaw(this)._get();\n    }\n}\n_a = \"__v_isReadonly\" /* ReactiveFlags.IS_READONLY */;\nfunction deferredComputed(getter) {\n    return new DeferredComputedRefImpl(getter);\n}\n\nexport { EffectScope, ITERATE_KEY, ReactiveEffect, computed, customRef, deferredComputed, effect, effectScope, enableTracking, getCurrentScope, isProxy, isReactive, isReadonly, isRef, isShallow, markRaw, onScopeDispose, pauseTracking, proxyRefs, reactive, readonly, ref, resetTracking, shallowReactive, shallowReadonly, shallowRef, stop, toRaw, toRef, toRefs, track, trigger, triggerRef, unref };\n","/**\n * Make a map and return a function for checking if a key\n * is in that map.\n * IMPORTANT: all calls of this function must be prefixed with\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\n * So that rollup can tree-shake them if necessary.\n */\nfunction makeMap(str, expectsLowerCase) {\n    const map = Object.create(null);\n    const list = str.split(',');\n    for (let i = 0; i < list.length; i++) {\n        map[list[i]] = true;\n    }\n    return expectsLowerCase ? val => !!map[val.toLowerCase()] : val => !!map[val];\n}\n\n/**\n * dev only flag -> name mapping\n */\nconst PatchFlagNames = {\n    [1 /* PatchFlags.TEXT */]: `TEXT`,\n    [2 /* PatchFlags.CLASS */]: `CLASS`,\n    [4 /* PatchFlags.STYLE */]: `STYLE`,\n    [8 /* PatchFlags.PROPS */]: `PROPS`,\n    [16 /* PatchFlags.FULL_PROPS */]: `FULL_PROPS`,\n    [32 /* PatchFlags.HYDRATE_EVENTS */]: `HYDRATE_EVENTS`,\n    [64 /* PatchFlags.STABLE_FRAGMENT */]: `STABLE_FRAGMENT`,\n    [128 /* PatchFlags.KEYED_FRAGMENT */]: `KEYED_FRAGMENT`,\n    [256 /* PatchFlags.UNKEYED_FRAGMENT */]: `UNKEYED_FRAGMENT`,\n    [512 /* PatchFlags.NEED_PATCH */]: `NEED_PATCH`,\n    [1024 /* PatchFlags.DYNAMIC_SLOTS */]: `DYNAMIC_SLOTS`,\n    [2048 /* PatchFlags.DEV_ROOT_FRAGMENT */]: `DEV_ROOT_FRAGMENT`,\n    [-1 /* PatchFlags.HOISTED */]: `HOISTED`,\n    [-2 /* PatchFlags.BAIL */]: `BAIL`\n};\n\n/**\n * Dev only\n */\nconst slotFlagsText = {\n    [1 /* SlotFlags.STABLE */]: 'STABLE',\n    [2 /* SlotFlags.DYNAMIC */]: 'DYNAMIC',\n    [3 /* SlotFlags.FORWARDED */]: 'FORWARDED'\n};\n\nconst GLOBALS_WHITE_LISTED = 'Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,' +\n    'decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,' +\n    'Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt';\nconst isGloballyWhitelisted = /*#__PURE__*/ makeMap(GLOBALS_WHITE_LISTED);\n\nconst range = 2;\nfunction generateCodeFrame(source, start = 0, end = source.length) {\n    // Split the content into individual lines but capture the newline sequence\n    // that separated each line. This is important because the actual sequence is\n    // needed to properly take into account the full line length for offset\n    // comparison\n    let lines = source.split(/(\\r?\\n)/);\n    // Separate the lines and newline sequences into separate arrays for easier referencing\n    const newlineSequences = lines.filter((_, idx) => idx % 2 === 1);\n    lines = lines.filter((_, idx) => idx % 2 === 0);\n    let count = 0;\n    const res = [];\n    for (let i = 0; i < lines.length; i++) {\n        count +=\n            lines[i].length +\n                ((newlineSequences[i] && newlineSequences[i].length) || 0);\n        if (count >= start) {\n            for (let j = i - range; j <= i + range || end > count; j++) {\n                if (j < 0 || j >= lines.length)\n                    continue;\n                const line = j + 1;\n                res.push(`${line}${' '.repeat(Math.max(3 - String(line).length, 0))}|  ${lines[j]}`);\n                const lineLength = lines[j].length;\n                const newLineSeqLength = (newlineSequences[j] && newlineSequences[j].length) || 0;\n                if (j === i) {\n                    // push underline\n                    const pad = start - (count - (lineLength + newLineSeqLength));\n                    const length = Math.max(1, end > count ? lineLength - pad : end - start);\n                    res.push(`   |  ` + ' '.repeat(pad) + '^'.repeat(length));\n                }\n                else if (j > i) {\n                    if (end > count) {\n                        const length = Math.max(Math.min(end - count, lineLength), 1);\n                        res.push(`   |  ` + '^'.repeat(length));\n                    }\n                    count += lineLength + newLineSeqLength;\n                }\n            }\n            break;\n        }\n    }\n    return res.join('\\n');\n}\n\nfunction normalizeStyle(value) {\n    if (isArray(value)) {\n        const res = {};\n        for (let i = 0; i < value.length; i++) {\n            const item = value[i];\n            const normalized = isString(item)\n                ? parseStringStyle(item)\n                : normalizeStyle(item);\n            if (normalized) {\n                for (const key in normalized) {\n                    res[key] = normalized[key];\n                }\n            }\n        }\n        return res;\n    }\n    else if (isString(value)) {\n        return value;\n    }\n    else if (isObject(value)) {\n        return value;\n    }\n}\nconst listDelimiterRE = /;(?![^(]*\\))/g;\nconst propertyDelimiterRE = /:([^]+)/;\nconst styleCommentRE = /\\/\\*.*?\\*\\//gs;\nfunction parseStringStyle(cssText) {\n    const ret = {};\n    cssText\n        .replace(styleCommentRE, '')\n        .split(listDelimiterRE)\n        .forEach(item => {\n        if (item) {\n            const tmp = item.split(propertyDelimiterRE);\n            tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());\n        }\n    });\n    return ret;\n}\nfunction stringifyStyle(styles) {\n    let ret = '';\n    if (!styles || isString(styles)) {\n        return ret;\n    }\n    for (const key in styles) {\n        const value = styles[key];\n        const normalizedKey = key.startsWith(`--`) ? key : hyphenate(key);\n        if (isString(value) || typeof value === 'number') {\n            // only render valid values\n            ret += `${normalizedKey}:${value};`;\n        }\n    }\n    return ret;\n}\nfunction normalizeClass(value) {\n    let res = '';\n    if (isString(value)) {\n        res = value;\n    }\n    else if (isArray(value)) {\n        for (let i = 0; i < value.length; i++) {\n            const normalized = normalizeClass(value[i]);\n            if (normalized) {\n                res += normalized + ' ';\n            }\n        }\n    }\n    else if (isObject(value)) {\n        for (const name in value) {\n            if (value[name]) {\n                res += name + ' ';\n            }\n        }\n    }\n    return res.trim();\n}\nfunction normalizeProps(props) {\n    if (!props)\n        return null;\n    let { class: klass, style } = props;\n    if (klass && !isString(klass)) {\n        props.class = normalizeClass(klass);\n    }\n    if (style) {\n        props.style = normalizeStyle(style);\n    }\n    return props;\n}\n\n// These tag configs are shared between compiler-dom and runtime-dom, so they\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element\nconst HTML_TAGS = 'html,body,base,head,link,meta,style,title,address,article,aside,footer,' +\n    'header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,' +\n    'figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,' +\n    'data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,' +\n    'time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,' +\n    'canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,' +\n    'th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,' +\n    'option,output,progress,select,textarea,details,dialog,menu,' +\n    'summary,template,blockquote,iframe,tfoot';\n// https://developer.mozilla.org/en-US/docs/Web/SVG/Element\nconst SVG_TAGS = 'svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,' +\n    'defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,' +\n    'feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,' +\n    'feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,' +\n    'feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,' +\n    'fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,' +\n    'foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,' +\n    'mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,' +\n    'polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,' +\n    'text,textPath,title,tspan,unknown,use,view';\nconst VOID_TAGS = 'area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr';\n/**\n * Compiler only.\n * Do NOT use in runtime code paths unless behind `(process.env.NODE_ENV !== 'production')` flag.\n */\nconst isHTMLTag = /*#__PURE__*/ makeMap(HTML_TAGS);\n/**\n * Compiler only.\n * Do NOT use in runtime code paths unless behind `(process.env.NODE_ENV !== 'production')` flag.\n */\nconst isSVGTag = /*#__PURE__*/ makeMap(SVG_TAGS);\n/**\n * Compiler only.\n * Do NOT use in runtime code paths unless behind `(process.env.NODE_ENV !== 'production')` flag.\n */\nconst isVoidTag = /*#__PURE__*/ makeMap(VOID_TAGS);\n\n/**\n * On the client we only need to offer special cases for boolean attributes that\n * have different names from their corresponding dom properties:\n * - itemscope -> N/A\n * - allowfullscreen -> allowFullscreen\n * - formnovalidate -> formNoValidate\n * - ismap -> isMap\n * - nomodule -> noModule\n * - novalidate -> noValidate\n * - readonly -> readOnly\n */\nconst specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;\nconst isSpecialBooleanAttr = /*#__PURE__*/ makeMap(specialBooleanAttrs);\n/**\n * The full list is needed during SSR to produce the correct initial markup.\n */\nconst isBooleanAttr = /*#__PURE__*/ makeMap(specialBooleanAttrs +\n    `,async,autofocus,autoplay,controls,default,defer,disabled,hidden,` +\n    `loop,open,required,reversed,scoped,seamless,` +\n    `checked,muted,multiple,selected`);\n/**\n * Boolean attributes should be included if the value is truthy or ''.\n * e.g. `<select multiple>` compiles to `{ multiple: '' }`\n */\nfunction includeBooleanAttr(value) {\n    return !!value || value === '';\n}\nconst unsafeAttrCharRE = /[>/=\"'\\u0009\\u000a\\u000c\\u0020]/;\nconst attrValidationCache = {};\nfunction isSSRSafeAttrName(name) {\n    if (attrValidationCache.hasOwnProperty(name)) {\n        return attrValidationCache[name];\n    }\n    const isUnsafe = unsafeAttrCharRE.test(name);\n    if (isUnsafe) {\n        console.error(`unsafe attribute name: ${name}`);\n    }\n    return (attrValidationCache[name] = !isUnsafe);\n}\nconst propsToAttrMap = {\n    acceptCharset: 'accept-charset',\n    className: 'class',\n    htmlFor: 'for',\n    httpEquiv: 'http-equiv'\n};\n/**\n * Known attributes, this is used for stringification of runtime static nodes\n * so that we don't stringify bindings that cannot be set from HTML.\n * Don't also forget to allow `data-*` and `aria-*`!\n * Generated from https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes\n */\nconst isKnownHtmlAttr = /*#__PURE__*/ makeMap(`accept,accept-charset,accesskey,action,align,allow,alt,async,` +\n    `autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,` +\n    `border,buffered,capture,challenge,charset,checked,cite,class,code,` +\n    `codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,` +\n    `coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,` +\n    `disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,` +\n    `formaction,formenctype,formmethod,formnovalidate,formtarget,headers,` +\n    `height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,` +\n    `ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,` +\n    `manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,` +\n    `open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,` +\n    `referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,` +\n    `selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,` +\n    `start,step,style,summary,tabindex,target,title,translate,type,usemap,` +\n    `value,width,wrap`);\n/**\n * Generated from https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute\n */\nconst isKnownSvgAttr = /*#__PURE__*/ makeMap(`xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,` +\n    `arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,` +\n    `baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,` +\n    `clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,` +\n    `color-interpolation-filters,color-profile,color-rendering,` +\n    `contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,` +\n    `descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,` +\n    `dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,` +\n    `fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,` +\n    `font-family,font-size,font-size-adjust,font-stretch,font-style,` +\n    `font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,` +\n    `glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,` +\n    `gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,` +\n    `horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,` +\n    `k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,` +\n    `lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,` +\n    `marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,` +\n    `mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,` +\n    `name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,` +\n    `overflow,overline-position,overline-thickness,panose-1,paint-order,path,` +\n    `pathLength,patternContentUnits,patternTransform,patternUnits,ping,` +\n    `pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,` +\n    `preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,` +\n    `rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,` +\n    `restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,` +\n    `specularConstant,specularExponent,speed,spreadMethod,startOffset,` +\n    `stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,` +\n    `strikethrough-position,strikethrough-thickness,string,stroke,` +\n    `stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,` +\n    `stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,` +\n    `systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,` +\n    `text-decoration,text-rendering,textLength,to,transform,transform-origin,` +\n    `type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,` +\n    `unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,` +\n    `v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,` +\n    `vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,` +\n    `writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,` +\n    `xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,` +\n    `xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan`);\n\nconst escapeRE = /[\"'&<>]/;\nfunction escapeHtml(string) {\n    const str = '' + string;\n    const match = escapeRE.exec(str);\n    if (!match) {\n        return str;\n    }\n    let html = '';\n    let escaped;\n    let index;\n    let lastIndex = 0;\n    for (index = match.index; index < str.length; index++) {\n        switch (str.charCodeAt(index)) {\n            case 34: // \"\n                escaped = '&quot;';\n                break;\n            case 38: // &\n                escaped = '&amp;';\n                break;\n            case 39: // '\n                escaped = '&#39;';\n                break;\n            case 60: // <\n                escaped = '&lt;';\n                break;\n            case 62: // >\n                escaped = '&gt;';\n                break;\n            default:\n                continue;\n        }\n        if (lastIndex !== index) {\n            html += str.slice(lastIndex, index);\n        }\n        lastIndex = index + 1;\n        html += escaped;\n    }\n    return lastIndex !== index ? html + str.slice(lastIndex, index) : html;\n}\n// https://www.w3.org/TR/html52/syntax.html#comments\nconst commentStripRE = /^-?>|<!--|-->|--!>|<!-$/g;\nfunction escapeHtmlComment(src) {\n    return src.replace(commentStripRE, '');\n}\n\nfunction looseCompareArrays(a, b) {\n    if (a.length !== b.length)\n        return false;\n    let equal = true;\n    for (let i = 0; equal && i < a.length; i++) {\n        equal = looseEqual(a[i], b[i]);\n    }\n    return equal;\n}\nfunction looseEqual(a, b) {\n    if (a === b)\n        return true;\n    let aValidType = isDate(a);\n    let bValidType = isDate(b);\n    if (aValidType || bValidType) {\n        return aValidType && bValidType ? a.getTime() === b.getTime() : false;\n    }\n    aValidType = isSymbol(a);\n    bValidType = isSymbol(b);\n    if (aValidType || bValidType) {\n        return a === b;\n    }\n    aValidType = isArray(a);\n    bValidType = isArray(b);\n    if (aValidType || bValidType) {\n        return aValidType && bValidType ? looseCompareArrays(a, b) : false;\n    }\n    aValidType = isObject(a);\n    bValidType = isObject(b);\n    if (aValidType || bValidType) {\n        /* istanbul ignore if: this if will probably never be called */\n        if (!aValidType || !bValidType) {\n            return false;\n        }\n        const aKeysCount = Object.keys(a).length;\n        const bKeysCount = Object.keys(b).length;\n        if (aKeysCount !== bKeysCount) {\n            return false;\n        }\n        for (const key in a) {\n            const aHasKey = a.hasOwnProperty(key);\n            const bHasKey = b.hasOwnProperty(key);\n            if ((aHasKey && !bHasKey) ||\n                (!aHasKey && bHasKey) ||\n                !looseEqual(a[key], b[key])) {\n                return false;\n            }\n        }\n    }\n    return String(a) === String(b);\n}\nfunction looseIndexOf(arr, val) {\n    return arr.findIndex(item => looseEqual(item, val));\n}\n\n/**\n * For converting {{ interpolation }} values to displayed strings.\n * @private\n */\nconst toDisplayString = (val) => {\n    return isString(val)\n        ? val\n        : val == null\n            ? ''\n            : isArray(val) ||\n                (isObject(val) &&\n                    (val.toString === objectToString || !isFunction(val.toString)))\n                ? JSON.stringify(val, replacer, 2)\n                : String(val);\n};\nconst replacer = (_key, val) => {\n    // can't use isRef here since @vue/shared has no deps\n    if (val && val.__v_isRef) {\n        return replacer(_key, val.value);\n    }\n    else if (isMap(val)) {\n        return {\n            [`Map(${val.size})`]: [...val.entries()].reduce((entries, [key, val]) => {\n                entries[`${key} =>`] = val;\n                return entries;\n            }, {})\n        };\n    }\n    else if (isSet(val)) {\n        return {\n            [`Set(${val.size})`]: [...val.values()]\n        };\n    }\n    else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {\n        return String(val);\n    }\n    return val;\n};\n\nconst EMPTY_OBJ = (process.env.NODE_ENV !== 'production')\n    ? Object.freeze({})\n    : {};\nconst EMPTY_ARR = (process.env.NODE_ENV !== 'production') ? Object.freeze([]) : [];\nconst NOOP = () => { };\n/**\n * Always return false.\n */\nconst NO = () => false;\nconst onRE = /^on[^a-z]/;\nconst isOn = (key) => onRE.test(key);\nconst isModelListener = (key) => key.startsWith('onUpdate:');\nconst extend = Object.assign;\nconst remove = (arr, el) => {\n    const i = arr.indexOf(el);\n    if (i > -1) {\n        arr.splice(i, 1);\n    }\n};\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\nconst isArray = Array.isArray;\nconst isMap = (val) => toTypeString(val) === '[object Map]';\nconst isSet = (val) => toTypeString(val) === '[object Set]';\nconst isDate = (val) => toTypeString(val) === '[object Date]';\nconst isRegExp = (val) => toTypeString(val) === '[object RegExp]';\nconst isFunction = (val) => typeof val === 'function';\nconst isString = (val) => typeof val === 'string';\nconst isSymbol = (val) => typeof val === 'symbol';\nconst isObject = (val) => val !== null && typeof val === 'object';\nconst isPromise = (val) => {\n    return isObject(val) && isFunction(val.then) && isFunction(val.catch);\n};\nconst objectToString = Object.prototype.toString;\nconst toTypeString = (value) => objectToString.call(value);\nconst toRawType = (value) => {\n    // extract \"RawType\" from strings like \"[object RawType]\"\n    return toTypeString(value).slice(8, -1);\n};\nconst isPlainObject = (val) => toTypeString(val) === '[object Object]';\nconst isIntegerKey = (key) => isString(key) &&\n    key !== 'NaN' &&\n    key[0] !== '-' &&\n    '' + parseInt(key, 10) === key;\nconst isReservedProp = /*#__PURE__*/ makeMap(\n// the leading comma is intentional so empty string \"\" is also included\n',key,ref,ref_for,ref_key,' +\n    'onVnodeBeforeMount,onVnodeMounted,' +\n    'onVnodeBeforeUpdate,onVnodeUpdated,' +\n    'onVnodeBeforeUnmount,onVnodeUnmounted');\nconst isBuiltInDirective = /*#__PURE__*/ makeMap('bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo');\nconst cacheStringFunction = (fn) => {\n    const cache = Object.create(null);\n    return ((str) => {\n        const hit = cache[str];\n        return hit || (cache[str] = fn(str));\n    });\n};\nconst camelizeRE = /-(\\w)/g;\n/**\n * @private\n */\nconst camelize = cacheStringFunction((str) => {\n    return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : ''));\n});\nconst hyphenateRE = /\\B([A-Z])/g;\n/**\n * @private\n */\nconst hyphenate = cacheStringFunction((str) => str.replace(hyphenateRE, '-$1').toLowerCase());\n/**\n * @private\n */\nconst capitalize = cacheStringFunction((str) => str.charAt(0).toUpperCase() + str.slice(1));\n/**\n * @private\n */\nconst toHandlerKey = cacheStringFunction((str) => str ? `on${capitalize(str)}` : ``);\n// compare whether a value has changed, accounting for NaN.\nconst hasChanged = (value, oldValue) => !Object.is(value, oldValue);\nconst invokeArrayFns = (fns, arg) => {\n    for (let i = 0; i < fns.length; i++) {\n        fns[i](arg);\n    }\n};\nconst def = (obj, key, value) => {\n    Object.defineProperty(obj, key, {\n        configurable: true,\n        enumerable: false,\n        value\n    });\n};\n/**\n * \"123-foo\" will be parsed to 123\n * This is used for the .number modifier in v-model\n */\nconst looseToNumber = (val) => {\n    const n = parseFloat(val);\n    return isNaN(n) ? val : n;\n};\n/**\n * Only conerces number-like strings\n * \"123-foo\" will be returned as-is\n */\nconst toNumber = (val) => {\n    const n = isString(val) ? Number(val) : NaN;\n    return isNaN(n) ? val : n;\n};\nlet _globalThis;\nconst getGlobalThis = () => {\n    return (_globalThis ||\n        (_globalThis =\n            typeof globalThis !== 'undefined'\n                ? globalThis\n                : typeof self !== 'undefined'\n                    ? self\n                    : typeof window !== 'undefined'\n                        ? window\n                        : typeof global !== 'undefined'\n                            ? global\n                            : {}));\n};\nconst identRE = /^[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*$/;\nfunction genPropsAccessExp(name) {\n    return identRE.test(name)\n        ? `__props.${name}`\n        : `__props[${JSON.stringify(name)}]`;\n}\n\nexport { EMPTY_ARR, EMPTY_OBJ, NO, NOOP, PatchFlagNames, camelize, capitalize, def, escapeHtml, escapeHtmlComment, extend, genPropsAccessExp, generateCodeFrame, getGlobalThis, hasChanged, hasOwn, hyphenate, includeBooleanAttr, invokeArrayFns, isArray, isBooleanAttr, isBuiltInDirective, isDate, isFunction, isGloballyWhitelisted, isHTMLTag, isIntegerKey, isKnownHtmlAttr, isKnownSvgAttr, isMap, isModelListener, isObject, isOn, isPlainObject, isPromise, isRegExp, isReservedProp, isSSRSafeAttrName, isSVGTag, isSet, isSpecialBooleanAttr, isString, isSymbol, isVoidTag, looseEqual, looseIndexOf, looseToNumber, makeMap, normalizeClass, normalizeProps, normalizeStyle, objectToString, parseStringStyle, propsToAttrMap, remove, slotFlagsText, stringifyStyle, toDisplayString, toHandlerKey, toNumber, toRawType, toTypeString };\n","/*! @license DOMPurify 3.0.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.1/LICENSE */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.DOMPurify = factory());\n})(this, (function () { 'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n      return typeof obj;\n    } : function (obj) {\n      return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    }, _typeof(obj);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n      o.__proto__ = p;\n      return o;\n    };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function _isNativeReflectConstruct() {\n    if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === \"function\") return true;\n\n    try {\n      Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _construct(Parent, args, Class) {\n    if (_isNativeReflectConstruct()) {\n      _construct = Reflect.construct;\n    } else {\n      _construct = function _construct(Parent, args, Class) {\n        var a = [null];\n        a.push.apply(a, args);\n        var Constructor = Function.bind.apply(Parent, a);\n        var instance = new Constructor();\n        if (Class) _setPrototypeOf(instance, Class.prototype);\n        return instance;\n      };\n    }\n\n    return _construct.apply(null, arguments);\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n  }\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArray(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n\n    var _s, _e;\n\n    try {\n      for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function _createForOfIteratorHelper(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n    if (!it) {\n      if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n        if (it) o = it;\n        var i = 0;\n\n        var F = function () {};\n\n        return {\n          s: F,\n          n: function () {\n            if (i >= o.length) return {\n              done: true\n            };\n            return {\n              done: false,\n              value: o[i++]\n            };\n          },\n          e: function (e) {\n            throw e;\n          },\n          f: F\n        };\n      }\n\n      throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n\n    var normalCompletion = true,\n        didErr = false,\n        err;\n    return {\n      s: function () {\n        it = it.call(o);\n      },\n      n: function () {\n        var step = it.next();\n        normalCompletion = step.done;\n        return step;\n      },\n      e: function (e) {\n        didErr = true;\n        err = e;\n      },\n      f: function () {\n        try {\n          if (!normalCompletion && it.return != null) it.return();\n        } finally {\n          if (didErr) throw err;\n        }\n      }\n    };\n  }\n\n  var entries = Object.entries,\n      setPrototypeOf = Object.setPrototypeOf,\n      isFrozen = Object.isFrozen,\n      getPrototypeOf = Object.getPrototypeOf,\n      getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n  var freeze = Object.freeze,\n      seal = Object.seal,\n      create = Object.create; // eslint-disable-line import/no-mutable-exports\n\n  var _ref = typeof Reflect !== 'undefined' && Reflect,\n      apply = _ref.apply,\n      construct = _ref.construct;\n\n  if (!apply) {\n    apply = function apply(fun, thisValue, args) {\n      return fun.apply(thisValue, args);\n    };\n  }\n\n  if (!freeze) {\n    freeze = function freeze(x) {\n      return x;\n    };\n  }\n\n  if (!seal) {\n    seal = function seal(x) {\n      return x;\n    };\n  }\n\n  if (!construct) {\n    construct = function construct(Func, args) {\n      return _construct(Func, _toConsumableArray(args));\n    };\n  }\n\n  var arrayForEach = unapply(Array.prototype.forEach);\n  var arrayPop = unapply(Array.prototype.pop);\n  var arrayPush = unapply(Array.prototype.push);\n  var stringToLowerCase = unapply(String.prototype.toLowerCase);\n  var stringToString = unapply(String.prototype.toString);\n  var stringMatch = unapply(String.prototype.match);\n  var stringReplace = unapply(String.prototype.replace);\n  var stringIndexOf = unapply(String.prototype.indexOf);\n  var stringTrim = unapply(String.prototype.trim);\n  var regExpTest = unapply(RegExp.prototype.test);\n  var typeErrorCreate = unconstruct(TypeError);\n  function unapply(func) {\n    return function (thisArg) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return apply(func, thisArg, args);\n    };\n  }\n  function unconstruct(func) {\n    return function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return construct(func, args);\n    };\n  }\n  /* Add properties to a lookup table */\n\n  function addToSet(set, array, transformCaseFunc) {\n    transformCaseFunc = transformCaseFunc ? transformCaseFunc : stringToLowerCase;\n\n    if (setPrototypeOf) {\n      // Make 'in' and truthy checks like Boolean(set.constructor)\n      // independent of any properties defined on Object.prototype.\n      // Prevent prototype setters from intercepting set as a this value.\n      setPrototypeOf(set, null);\n    }\n\n    var l = array.length;\n\n    while (l--) {\n      var element = array[l];\n\n      if (typeof element === 'string') {\n        var lcElement = transformCaseFunc(element);\n\n        if (lcElement !== element) {\n          // Config presets (e.g. tags.js, attrs.js) are immutable.\n          if (!isFrozen(array)) {\n            array[l] = lcElement;\n          }\n\n          element = lcElement;\n        }\n      }\n\n      set[element] = true;\n    }\n\n    return set;\n  }\n  /* Shallow clone an object */\n\n  function clone(object) {\n    var newObject = create(null);\n\n    var _iterator = _createForOfIteratorHelper(entries(object)),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var _step$value = _slicedToArray(_step.value, 2),\n            property = _step$value[0],\n            value = _step$value[1];\n\n        newObject[property] = value;\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    return newObject;\n  }\n  /* This method automatically checks if the prop is function\n   * or getter and behaves accordingly. */\n\n  function lookupGetter(object, prop) {\n    while (object !== null) {\n      var desc = getOwnPropertyDescriptor(object, prop);\n\n      if (desc) {\n        if (desc.get) {\n          return unapply(desc.get);\n        }\n\n        if (typeof desc.value === 'function') {\n          return unapply(desc.value);\n        }\n      }\n\n      object = getPrototypeOf(object);\n    }\n\n    function fallbackValue(element) {\n      console.warn('fallback value for', element);\n      return null;\n    }\n\n    return fallbackValue;\n  }\n\n  var html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']); // SVG\n\n  var svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\n  var svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']); // List of SVG elements that are disallowed by default.\n  // We still need to know them so that we can do namespace\n  // checks properly in case one wants to add them to\n  // allow-list.\n\n  var svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'fedropshadow', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\n  var mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover']); // Similarly to SVG, we want to know all MathML elements,\n  // even those that we disallow by default.\n\n  var mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\n  var text = freeze(['#text']);\n\n  var html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'xmlns', 'slot']);\n  var svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\n  var mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\n  var xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n  var MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\n\n  var ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\n  var TMPLIT_EXPR = seal(/\\${[\\w\\W]*}/gm);\n  var DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\n\n  var ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\n\n  var IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n  );\n  var IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n  var ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n  );\n  var DOCTYPE_NAME = seal(/^html$/i);\n\n  var getGlobal = function getGlobal() {\n    return typeof window === 'undefined' ? null : window;\n  };\n  /**\n   * Creates a no-op policy for internal use only.\n   * Don't export this function outside this module!\n   * @param {?TrustedTypePolicyFactory} trustedTypes The policy factory.\n   * @param {Document} document The document object (to determine policy name suffix)\n   * @return {?TrustedTypePolicy} The policy created (or null, if Trusted Types\n   * are not supported).\n   */\n\n\n  var _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, document) {\n    if (_typeof(trustedTypes) !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n      return null;\n    } // Allow the callers to control the unique policy name\n    // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n    // Policy creation with duplicate names throws in Trusted Types.\n\n\n    var suffix = null;\n    var ATTR_NAME = 'data-tt-policy-suffix';\n\n    if (document.currentScript && document.currentScript.hasAttribute(ATTR_NAME)) {\n      suffix = document.currentScript.getAttribute(ATTR_NAME);\n    }\n\n    var policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n    try {\n      return trustedTypes.createPolicy(policyName, {\n        createHTML: function createHTML(html) {\n          return html;\n        },\n        createScriptURL: function createScriptURL(scriptUrl) {\n          return scriptUrl;\n        }\n      });\n    } catch (_) {\n      // Policy creation failed (most likely another DOMPurify script has\n      // already run). Skip creating the policy, as this will only cause errors\n      // if TT are enforced.\n      console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n      return null;\n    }\n  };\n\n  function createDOMPurify() {\n    var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n\n    var DOMPurify = function DOMPurify(root) {\n      return createDOMPurify(root);\n    };\n    /**\n     * Version label, exposed for easier checks\n     * if DOMPurify is up to date or not\n     */\n\n\n    DOMPurify.version = '3.0.1';\n    /**\n     * Array of elements that DOMPurify removed during sanitation.\n     * Empty if nothing was removed.\n     */\n\n    DOMPurify.removed = [];\n\n    if (!window || !window.document || window.document.nodeType !== 9) {\n      // Not running in a browser, provide a factory function\n      // so that you can pass your own Window\n      DOMPurify.isSupported = false;\n      return DOMPurify;\n    }\n\n    var originalDocument = window.document;\n    var document = window.document;\n    var DocumentFragment = window.DocumentFragment,\n        HTMLTemplateElement = window.HTMLTemplateElement,\n        Node = window.Node,\n        Element = window.Element,\n        NodeFilter = window.NodeFilter,\n        _window$NamedNodeMap = window.NamedNodeMap,\n        NamedNodeMap = _window$NamedNodeMap === void 0 ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap,\n        HTMLFormElement = window.HTMLFormElement,\n        DOMParser = window.DOMParser,\n        trustedTypes = window.trustedTypes;\n    var ElementPrototype = Element.prototype;\n    var cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n    var getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n    var getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n    var getParentNode = lookupGetter(ElementPrototype, 'parentNode'); // As per issue #47, the web-components registry is inherited by a\n    // new document created via createHTMLDocument. As per the spec\n    // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n    // a new empty registry is used when creating a template contents owner\n    // document, so we use that as our parent document to ensure nothing\n    // is inherited.\n\n    if (typeof HTMLTemplateElement === 'function') {\n      var template = document.createElement('template');\n\n      if (template.content && template.content.ownerDocument) {\n        document = template.content.ownerDocument;\n      }\n    }\n\n    var trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, originalDocument);\n\n    var emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML('') : '';\n    var _document = document,\n        implementation = _document.implementation,\n        createNodeIterator = _document.createNodeIterator,\n        createDocumentFragment = _document.createDocumentFragment,\n        getElementsByTagName = _document.getElementsByTagName;\n    var importNode = originalDocument.importNode;\n    var hooks = {};\n    /**\n     * Expose whether this browser supports running the full DOMPurify.\n     */\n\n    DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && typeof implementation.createHTMLDocument !== 'undefined';\n    var MUSTACHE_EXPR$1 = MUSTACHE_EXPR,\n        ERB_EXPR$1 = ERB_EXPR,\n        TMPLIT_EXPR$1 = TMPLIT_EXPR,\n        DATA_ATTR$1 = DATA_ATTR,\n        ARIA_ATTR$1 = ARIA_ATTR,\n        IS_SCRIPT_OR_DATA$1 = IS_SCRIPT_OR_DATA,\n        ATTR_WHITESPACE$1 = ATTR_WHITESPACE;\n    var IS_ALLOWED_URI$1 = IS_ALLOWED_URI;\n    /**\n     * We consider the elements and attributes below to be safe. Ideally\n     * don't add any new ones but feel free to remove unwanted ones.\n     */\n\n    /* allowed element names */\n\n    var ALLOWED_TAGS = null;\n    var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray(html$1), _toConsumableArray(svg$1), _toConsumableArray(svgFilters), _toConsumableArray(mathMl$1), _toConsumableArray(text)));\n    /* Allowed attribute names */\n\n    var ALLOWED_ATTR = null;\n    var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray(html), _toConsumableArray(svg), _toConsumableArray(mathMl), _toConsumableArray(xml)));\n    /*\n     * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n     * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n     * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n     * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n     */\n\n    var CUSTOM_ELEMENT_HANDLING = Object.seal(Object.create(null, {\n      tagNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null\n      },\n      attributeNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null\n      },\n      allowCustomizedBuiltInElements: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: false\n      }\n    }));\n    /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n\n    var FORBID_TAGS = null;\n    /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n\n    var FORBID_ATTR = null;\n    /* Decide if ARIA attributes are okay */\n\n    var ALLOW_ARIA_ATTR = true;\n    /* Decide if custom data attributes are okay */\n\n    var ALLOW_DATA_ATTR = true;\n    /* Decide if unknown protocols are okay */\n\n    var ALLOW_UNKNOWN_PROTOCOLS = false;\n    /* Decide if self-closing tags in attributes are allowed.\n     * Usually removed due to a mXSS issue in jQuery 3.0 */\n\n    var ALLOW_SELF_CLOSE_IN_ATTR = true;\n    /* Output should be safe for common template engines.\n     * This means, DOMPurify removes data attributes, mustaches and ERB\n     */\n\n    var SAFE_FOR_TEMPLATES = false;\n    /* Decide if document with <html>... should be returned */\n\n    var WHOLE_DOCUMENT = false;\n    /* Track whether config is already set on this instance of DOMPurify. */\n\n    var SET_CONFIG = false;\n    /* Decide if all elements (e.g. style, script) must be children of\n     * document.body. By default, browsers might move them to document.head */\n\n    var FORCE_BODY = false;\n    /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n     * string (or a TrustedHTML object if Trusted Types are supported).\n     * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n     */\n\n    var RETURN_DOM = false;\n    /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n     * string  (or a TrustedHTML object if Trusted Types are supported) */\n\n    var RETURN_DOM_FRAGMENT = false;\n    /* Try to return a Trusted Type object instead of a string, return a string in\n     * case Trusted Types are not supported  */\n\n    var RETURN_TRUSTED_TYPE = false;\n    /* Output should be free from DOM clobbering attacks?\n     * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n     */\n\n    var SANITIZE_DOM = true;\n    /* Achieve full DOM Clobbering protection by isolating the namespace of named\n     * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n     *\n     * HTML/DOM spec rules that enable DOM Clobbering:\n     *   - Named Access on Window (7.3.3)\n     *   - DOM Tree Accessors (3.1.5)\n     *   - Form Element Parent-Child Relations (4.10.3)\n     *   - Iframe srcdoc / Nested WindowProxies (4.8.5)\n     *   - HTMLCollection (4.2.10.2)\n     *\n     * Namespace isolation is implemented by prefixing `id` and `name` attributes\n     * with a constant string, i.e., `user-content-`\n     */\n\n    var SANITIZE_NAMED_PROPS = false;\n    var SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n    /* Keep element content when removing element? */\n\n    var KEEP_CONTENT = true;\n    /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n     * of importing it into a new Document and returning a sanitized copy */\n\n    var IN_PLACE = false;\n    /* Allow usage of profiles like html, svg and mathMl */\n\n    var USE_PROFILES = {};\n    /* Tags to ignore content of when KEEP_CONTENT is true */\n\n    var FORBID_CONTENTS = null;\n    var DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n    /* Tags that are safe for data: URIs */\n\n    var DATA_URI_TAGS = null;\n    var DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n    /* Attributes safe for values like \"javascript:\" */\n\n    var URI_SAFE_ATTRIBUTES = null;\n    var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n    var MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n    var SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n    var HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n    /* Document namespace */\n\n    var NAMESPACE = HTML_NAMESPACE;\n    var IS_EMPTY_INPUT = false;\n    /* Allowed XHTML+XML namespaces */\n\n    var ALLOWED_NAMESPACES = null;\n    var DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n    /* Parsing of strict XHTML documents */\n\n    var PARSER_MEDIA_TYPE;\n    var SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n    var DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n    var transformCaseFunc;\n    /* Keep a reference to config to pass to hooks */\n\n    var CONFIG = null;\n    /* Ideally, do not touch anything below this line */\n\n    /* ______________________________________________ */\n\n    var formElement = document.createElement('form');\n\n    var isRegexOrFunction = function isRegexOrFunction(testValue) {\n      return testValue instanceof RegExp || testValue instanceof Function;\n    };\n    /**\n     * _parseConfig\n     *\n     * @param  {Object} cfg optional config literal\n     */\n    // eslint-disable-next-line complexity\n\n\n    var _parseConfig = function _parseConfig(cfg) {\n      if (CONFIG && CONFIG === cfg) {\n        return;\n      }\n      /* Shield configuration object from tampering */\n\n\n      if (!cfg || _typeof(cfg) !== 'object') {\n        cfg = {};\n      }\n      /* Shield configuration object from prototype pollution */\n\n\n      cfg = clone(cfg);\n      PARSER_MEDIA_TYPE = // eslint-disable-next-line unicorn/prefer-includes\n      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE; // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n\n      transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n      /* Set configuration parameters */\n\n      ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n      ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n      ALLOWED_NAMESPACES = 'ALLOWED_NAMESPACES' in cfg ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n      URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), // eslint-disable-line indent\n      cfg.ADD_URI_SAFE_ATTR, // eslint-disable-line indent\n      transformCaseFunc // eslint-disable-line indent\n      ) // eslint-disable-line indent\n      : DEFAULT_URI_SAFE_ATTRIBUTES;\n      DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS), // eslint-disable-line indent\n      cfg.ADD_DATA_URI_TAGS, // eslint-disable-line indent\n      transformCaseFunc // eslint-disable-line indent\n      ) // eslint-disable-line indent\n      : DEFAULT_DATA_URI_TAGS;\n      FORBID_CONTENTS = 'FORBID_CONTENTS' in cfg ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n      FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n      FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n      USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n      ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n\n      ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n\n      ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n\n      ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n\n      SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n\n      WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n\n      RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n\n      RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n\n      RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n\n      FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n\n      SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n\n      SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n\n      KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n\n      IN_PLACE = cfg.IN_PLACE || false; // Default false\n\n      IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$1;\n      NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n      CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n\n      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n        CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n      }\n\n      if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n        CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n      }\n\n      if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n        CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n      }\n\n      if (SAFE_FOR_TEMPLATES) {\n        ALLOW_DATA_ATTR = false;\n      }\n\n      if (RETURN_DOM_FRAGMENT) {\n        RETURN_DOM = true;\n      }\n      /* Parse profile info */\n\n\n      if (USE_PROFILES) {\n        ALLOWED_TAGS = addToSet({}, _toConsumableArray(text));\n        ALLOWED_ATTR = [];\n\n        if (USE_PROFILES.html === true) {\n          addToSet(ALLOWED_TAGS, html$1);\n          addToSet(ALLOWED_ATTR, html);\n        }\n\n        if (USE_PROFILES.svg === true) {\n          addToSet(ALLOWED_TAGS, svg$1);\n          addToSet(ALLOWED_ATTR, svg);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n\n        if (USE_PROFILES.svgFilters === true) {\n          addToSet(ALLOWED_TAGS, svgFilters);\n          addToSet(ALLOWED_ATTR, svg);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n\n        if (USE_PROFILES.mathMl === true) {\n          addToSet(ALLOWED_TAGS, mathMl$1);\n          addToSet(ALLOWED_ATTR, mathMl);\n          addToSet(ALLOWED_ATTR, xml);\n        }\n      }\n      /* Merge configuration parameters */\n\n\n      if (cfg.ADD_TAGS) {\n        if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n          ALLOWED_TAGS = clone(ALLOWED_TAGS);\n        }\n\n        addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n      }\n\n      if (cfg.ADD_ATTR) {\n        if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n          ALLOWED_ATTR = clone(ALLOWED_ATTR);\n        }\n\n        addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n      }\n\n      if (cfg.ADD_URI_SAFE_ATTR) {\n        addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n      }\n\n      if (cfg.FORBID_CONTENTS) {\n        if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n          FORBID_CONTENTS = clone(FORBID_CONTENTS);\n        }\n\n        addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n      }\n      /* Add #text in case KEEP_CONTENT is set to true */\n\n\n      if (KEEP_CONTENT) {\n        ALLOWED_TAGS['#text'] = true;\n      }\n      /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n\n\n      if (WHOLE_DOCUMENT) {\n        addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n      }\n      /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n\n\n      if (ALLOWED_TAGS.table) {\n        addToSet(ALLOWED_TAGS, ['tbody']);\n        delete FORBID_TAGS.tbody;\n      } // Prevent further manipulation of configuration.\n      // Not available in IE8, Safari 5, etc.\n\n\n      if (freeze) {\n        freeze(cfg);\n      }\n\n      CONFIG = cfg;\n    };\n\n    var MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n    var HTML_INTEGRATION_POINTS = addToSet({}, ['foreignobject', 'desc', 'title', 'annotation-xml']); // Certain elements are allowed in both SVG and HTML\n    // namespace. We need to specify them explicitly\n    // so that they don't get erroneously deleted from\n    // HTML namespace.\n\n    var COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n    /* Keep track of all possible SVG and MathML tags\n     * so that we can perform the namespace checks\n     * correctly. */\n\n    var ALL_SVG_TAGS = addToSet({}, svg$1);\n    addToSet(ALL_SVG_TAGS, svgFilters);\n    addToSet(ALL_SVG_TAGS, svgDisallowed);\n    var ALL_MATHML_TAGS = addToSet({}, mathMl$1);\n    addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n    /**\n     *\n     *\n     * @param  {Element} element a DOM element whose namespace is being checked\n     * @returns {boolean} Return false if the element has a\n     *  namespace that a spec-compliant parser would never\n     *  return. Return true otherwise.\n     */\n\n    var _checkValidNamespace = function _checkValidNamespace(element) {\n      var parent = getParentNode(element); // In JSDOM, if we're inside shadow DOM, then parentNode\n      // can be null. We just simulate parent in this case.\n\n      if (!parent || !parent.tagName) {\n        parent = {\n          namespaceURI: NAMESPACE,\n          tagName: 'template'\n        };\n      }\n\n      var tagName = stringToLowerCase(element.tagName);\n      var parentTagName = stringToLowerCase(parent.tagName);\n\n      if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n        return false;\n      }\n\n      if (element.namespaceURI === SVG_NAMESPACE) {\n        // The only way to switch from HTML namespace to SVG\n        // is via <svg>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'svg';\n        } // The only way to switch from MathML to SVG is via`\n        // svg if parent is either <annotation-xml> or MathML\n        // text integration points.\n\n\n        if (parent.namespaceURI === MATHML_NAMESPACE) {\n          return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n        } // We only allow elements that are defined in SVG\n        // spec. All others are disallowed in SVG namespace.\n\n\n        return Boolean(ALL_SVG_TAGS[tagName]);\n      }\n\n      if (element.namespaceURI === MATHML_NAMESPACE) {\n        // The only way to switch from HTML namespace to MathML\n        // is via <math>. If it happens via any other tag, then\n        // it should be killed.\n        if (parent.namespaceURI === HTML_NAMESPACE) {\n          return tagName === 'math';\n        } // The only way to switch from SVG to MathML is via\n        // <math> and HTML integration points\n\n\n        if (parent.namespaceURI === SVG_NAMESPACE) {\n          return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n        } // We only allow elements that are defined in MathML\n        // spec. All others are disallowed in MathML namespace.\n\n\n        return Boolean(ALL_MATHML_TAGS[tagName]);\n      }\n\n      if (element.namespaceURI === HTML_NAMESPACE) {\n        // The only way to switch from SVG to HTML is via\n        // HTML integration points, and from MathML to HTML\n        // is via MathML text integration points\n        if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        }\n\n        if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n          return false;\n        } // We disallow tags that are specific for MathML\n        // or SVG and should never appear in HTML namespace\n\n\n        return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n      } // For XHTML and XML documents that support custom namespaces\n\n\n      if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n        return true;\n      } // The code should never reach this place (this means\n      // that the element somehow got namespace that is not\n      // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n      // Return false just in case.\n\n\n      return false;\n    };\n    /**\n     * _forceRemove\n     *\n     * @param  {Node} node a DOM node\n     */\n\n\n    var _forceRemove = function _forceRemove(node) {\n      arrayPush(DOMPurify.removed, {\n        element: node\n      });\n\n      try {\n        // eslint-disable-next-line unicorn/prefer-dom-node-remove\n        node.parentNode.removeChild(node);\n      } catch (_) {\n        node.remove();\n      }\n    };\n    /**\n     * _removeAttribute\n     *\n     * @param  {String} name an Attribute name\n     * @param  {Node} node a DOM node\n     */\n\n\n    var _removeAttribute = function _removeAttribute(name, node) {\n      try {\n        arrayPush(DOMPurify.removed, {\n          attribute: node.getAttributeNode(name),\n          from: node\n        });\n      } catch (_) {\n        arrayPush(DOMPurify.removed, {\n          attribute: null,\n          from: node\n        });\n      }\n\n      node.removeAttribute(name); // We void attribute values for unremovable \"is\"\" attributes\n\n      if (name === 'is' && !ALLOWED_ATTR[name]) {\n        if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n          try {\n            _forceRemove(node);\n          } catch (_) {}\n        } else {\n          try {\n            node.setAttribute(name, '');\n          } catch (_) {}\n        }\n      }\n    };\n    /**\n     * _initDocument\n     *\n     * @param  {String} dirty a string of dirty markup\n     * @return {Document} a DOM, filled with the dirty markup\n     */\n\n\n    var _initDocument = function _initDocument(dirty) {\n      /* Create a HTML document */\n      var doc;\n      var leadingWhitespace;\n\n      if (FORCE_BODY) {\n        dirty = '<remove></remove>' + dirty;\n      } else {\n        /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n        var matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n        leadingWhitespace = matches && matches[0];\n      }\n\n      if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n        // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n        dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n      }\n\n      var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      /*\n       * Use the DOMParser API by default, fallback later if needs be\n       * DOMParser not work for svg when has multiple root element.\n       */\n\n      if (NAMESPACE === HTML_NAMESPACE) {\n        try {\n          doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n        } catch (_) {}\n      }\n      /* Use createHTMLDocument in case DOMParser is not available */\n\n\n      if (!doc || !doc.documentElement) {\n        doc = implementation.createDocument(NAMESPACE, 'template', null);\n\n        try {\n          doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n        } catch (_) {// Syntax error if dirtyPayload is invalid xml\n        }\n      }\n\n      var body = doc.body || doc.documentElement;\n\n      if (dirty && leadingWhitespace) {\n        body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n      }\n      /* Work on whole document or just its body */\n\n\n      if (NAMESPACE === HTML_NAMESPACE) {\n        return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n      }\n\n      return WHOLE_DOCUMENT ? doc.documentElement : body;\n    };\n    /**\n     * _createIterator\n     *\n     * @param  {Document} root document/fragment to create iterator for\n     * @return {Iterator} iterator instance\n     */\n\n\n    var _createIterator = function _createIterator(root) {\n      return createNodeIterator.call(root.ownerDocument || root, root, // eslint-disable-next-line no-bitwise\n      NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n    };\n    /**\n     * _isClobbered\n     *\n     * @param  {Node} elm element to check for clobbering attacks\n     * @return {Boolean} true if clobbered, false if safe\n     */\n\n\n    var _isClobbered = function _isClobbered(elm) {\n      return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function' || typeof elm.hasChildNodes !== 'function');\n    };\n    /**\n     * _isNode\n     *\n     * @param  {Node} obj object to check whether it's a DOM node\n     * @return {Boolean} true is object is a DOM node\n     */\n\n\n    var _isNode = function _isNode(object) {\n      return _typeof(Node) === 'object' ? object instanceof Node : object && _typeof(object) === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n    };\n    /**\n     * _executeHook\n     * Execute user configurable hooks\n     *\n     * @param  {String} entryPoint  Name of the hook's entry point\n     * @param  {Node} currentNode node to work on with the hook\n     * @param  {Object} data additional hook parameters\n     */\n\n\n    var _executeHook = function _executeHook(entryPoint, currentNode, data) {\n      if (!hooks[entryPoint]) {\n        return;\n      }\n\n      arrayForEach(hooks[entryPoint], function (hook) {\n        hook.call(DOMPurify, currentNode, data, CONFIG);\n      });\n    };\n    /**\n     * _sanitizeElements\n     *\n     * @protect nodeName\n     * @protect textContent\n     * @protect removeChild\n     *\n     * @param   {Node} currentNode to check for permission to exist\n     * @return  {Boolean} true if node was killed, false if left alive\n     */\n\n\n    var _sanitizeElements = function _sanitizeElements(currentNode) {\n      var content;\n      /* Execute a hook if present */\n\n      _executeHook('beforeSanitizeElements', currentNode, null);\n      /* Check if element is clobbered or can clobber */\n\n\n      if (_isClobbered(currentNode)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Now let's check the element's type and name */\n\n\n      var tagName = transformCaseFunc(currentNode.nodeName);\n      /* Execute a hook if present */\n\n      _executeHook('uponSanitizeElement', currentNode, {\n        tagName: tagName,\n        allowedTags: ALLOWED_TAGS\n      });\n      /* Detect mXSS attempts abusing namespace confusion */\n\n\n      if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Remove element if anything forbids its presence */\n\n\n      if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n        /* Check if we have a custom element to handle */\n        if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) return false;\n          if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) return false;\n        }\n        /* Keep content except for bad-listed elements */\n\n\n        if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n          var parentNode = getParentNode(currentNode) || currentNode.parentNode;\n          var childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n          if (childNodes && parentNode) {\n            var childCount = childNodes.length;\n\n            for (var i = childCount - 1; i >= 0; --i) {\n              parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n            }\n          }\n        }\n\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Check whether element has a valid namespace */\n\n\n      if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Make sure that older browsers don't get noscript mXSS */\n\n\n      if ((tagName === 'noscript' || tagName === 'noembed') && regExpTest(/<\\/no(script|embed)/i, currentNode.innerHTML)) {\n        _forceRemove(currentNode);\n\n        return true;\n      }\n      /* Sanitize element content to be template-safe */\n\n\n      if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n        /* Get the element's text content */\n        content = currentNode.textContent;\n        content = stringReplace(content, MUSTACHE_EXPR$1, ' ');\n        content = stringReplace(content, ERB_EXPR$1, ' ');\n        content = stringReplace(content, TMPLIT_EXPR$1, ' ');\n\n        if (currentNode.textContent !== content) {\n          arrayPush(DOMPurify.removed, {\n            element: currentNode.cloneNode()\n          });\n          currentNode.textContent = content;\n        }\n      }\n      /* Execute a hook if present */\n\n\n      _executeHook('afterSanitizeElements', currentNode, null);\n\n      return false;\n    };\n    /**\n     * _isValidAttribute\n     *\n     * @param  {string} lcTag Lowercase tag name of containing element.\n     * @param  {string} lcName Lowercase attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid, otherwise false.\n     */\n    // eslint-disable-next-line complexity\n\n\n    var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n      /* Make sure attribute cannot clobber */\n      if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n        return false;\n      }\n      /* Allow valid data-* attributes: At least one character after \"-\"\n          (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n          XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n          We don't need to check the value; it's always URI safe. */\n\n\n      if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR$1, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR$1, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n        if ( // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n        _basicCustomElementTest(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) || // Alternative, second condition checks if it's an `is`-attribute, AND\n        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n          return false;\n        }\n        /* Check value is safe. First, is attr inert? If so, is safe */\n\n      } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE$1, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA$1, stringReplace(value, ATTR_WHITESPACE$1, ''))) ; else if (!value) ; else {\n        return false;\n      }\n\n      return true;\n    };\n    /**\n     * _basicCustomElementCheck\n     * checks if at least one dash is included in tagName, and it's not the first char\n     * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n     * @param {string} tagName name of the tag of the node to sanitize\n     */\n\n\n    var _basicCustomElementTest = function _basicCustomElementTest(tagName) {\n      return tagName.indexOf('-') > 0;\n    };\n    /**\n     * _sanitizeAttributes\n     *\n     * @protect attributes\n     * @protect nodeName\n     * @protect removeAttribute\n     * @protect setAttribute\n     *\n     * @param  {Node} currentNode to sanitize\n     */\n\n\n    var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n      var attr;\n      var value;\n      var lcName;\n      var l;\n      /* Execute a hook if present */\n\n      _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n      var attributes = currentNode.attributes;\n      /* Check if we have attributes; if not we might have a text node */\n\n      if (!attributes) {\n        return;\n      }\n\n      var hookEvent = {\n        attrName: '',\n        attrValue: '',\n        keepAttr: true,\n        allowedAttributes: ALLOWED_ATTR\n      };\n      l = attributes.length;\n      /* Go backwards over all attributes; safely remove bad ones */\n\n      while (l--) {\n        attr = attributes[l];\n        var _attr = attr,\n            name = _attr.name,\n            namespaceURI = _attr.namespaceURI;\n        value = name === 'value' ? attr.value : stringTrim(attr.value);\n        lcName = transformCaseFunc(name);\n        /* Execute a hook if present */\n\n        hookEvent.attrName = lcName;\n        hookEvent.attrValue = value;\n        hookEvent.keepAttr = true;\n        hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n\n        _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n\n        value = hookEvent.attrValue;\n        /* Did the hooks approve of the attribute? */\n\n        if (hookEvent.forceKeepAttr) {\n          continue;\n        }\n        /* Remove attribute */\n\n\n        _removeAttribute(name, currentNode);\n        /* Did the hooks approve of the attribute? */\n\n\n        if (!hookEvent.keepAttr) {\n          continue;\n        }\n        /* Work around a security issue in jQuery 3.0 */\n\n\n        if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n          _removeAttribute(name, currentNode);\n\n          continue;\n        }\n        /* Sanitize attribute content to be template-safe */\n\n\n        if (SAFE_FOR_TEMPLATES) {\n          value = stringReplace(value, MUSTACHE_EXPR$1, ' ');\n          value = stringReplace(value, ERB_EXPR$1, ' ');\n          value = stringReplace(value, TMPLIT_EXPR$1, ' ');\n        }\n        /* Is `value` valid for this attribute? */\n\n\n        var lcTag = transformCaseFunc(currentNode.nodeName);\n\n        if (!_isValidAttribute(lcTag, lcName, value)) {\n          continue;\n        }\n        /* Full DOM Clobbering protection via namespace isolation,\n         * Prefix id and name attributes with `user-content-`\n         */\n\n\n        if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n          // Remove the attribute with this value\n          _removeAttribute(name, currentNode); // Prefix the value and later re-create the attribute with the sanitized value\n\n\n          value = SANITIZE_NAMED_PROPS_PREFIX + value;\n        }\n        /* Handle attributes that require Trusted Types */\n\n\n        if (trustedTypesPolicy && _typeof(trustedTypes) === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n          if (namespaceURI) ; else {\n            switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n              case 'TrustedHTML':\n                value = trustedTypesPolicy.createHTML(value);\n                break;\n\n              case 'TrustedScriptURL':\n                value = trustedTypesPolicy.createScriptURL(value);\n                break;\n            }\n          }\n        }\n        /* Handle invalid data-* attribute set by try-catching it */\n\n\n        try {\n          if (namespaceURI) {\n            currentNode.setAttributeNS(namespaceURI, name, value);\n          } else {\n            /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n            currentNode.setAttribute(name, value);\n          }\n\n          arrayPop(DOMPurify.removed);\n        } catch (_) {}\n      }\n      /* Execute a hook if present */\n\n\n      _executeHook('afterSanitizeAttributes', currentNode, null);\n    };\n    /**\n     * _sanitizeShadowDOM\n     *\n     * @param  {DocumentFragment} fragment to iterate over recursively\n     */\n\n\n    var _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n      var shadowNode;\n\n      var shadowIterator = _createIterator(fragment);\n      /* Execute a hook if present */\n\n\n      _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n      while (shadowNode = shadowIterator.nextNode()) {\n        /* Execute a hook if present */\n        _executeHook('uponSanitizeShadowNode', shadowNode, null);\n        /* Sanitize tags and elements */\n\n\n        if (_sanitizeElements(shadowNode)) {\n          continue;\n        }\n        /* Deep shadow DOM detected */\n\n\n        if (shadowNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(shadowNode.content);\n        }\n        /* Check attributes, sanitize if necessary */\n\n\n        _sanitizeAttributes(shadowNode);\n      }\n      /* Execute a hook if present */\n\n\n      _executeHook('afterSanitizeShadowDOM', fragment, null);\n    };\n    /**\n     * Sanitize\n     * Public method providing core sanitation functionality\n     *\n     * @param {String|Node} dirty string or DOM node\n     * @param {Object} configuration object\n     */\n    // eslint-disable-next-line complexity\n\n\n    DOMPurify.sanitize = function (dirty) {\n      var cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var body;\n      var importedNode;\n      var currentNode;\n      var returnNode;\n      /* Make sure we have a string to sanitize.\n        DO NOT return early, as this will return the wrong type if\n        the user has requested a DOM object rather than a string */\n\n      IS_EMPTY_INPUT = !dirty;\n\n      if (IS_EMPTY_INPUT) {\n        dirty = '<!-->';\n      }\n      /* Stringify, in case dirty is an object */\n\n\n      if (typeof dirty !== 'string' && !_isNode(dirty)) {\n        // eslint-disable-next-line no-negated-condition\n        if (typeof dirty.toString !== 'function') {\n          throw typeErrorCreate('toString is not a function');\n        } else {\n          dirty = dirty.toString();\n\n          if (typeof dirty !== 'string') {\n            throw typeErrorCreate('dirty is not a string, aborting');\n          }\n        }\n      }\n      /* Return dirty HTML if DOMPurify cannot run */\n\n\n      if (!DOMPurify.isSupported) {\n        return dirty;\n      }\n      /* Assign config vars */\n\n\n      if (!SET_CONFIG) {\n        _parseConfig(cfg);\n      }\n      /* Clean up removed elements */\n\n\n      DOMPurify.removed = [];\n      /* Check if dirty is correctly typed for IN_PLACE */\n\n      if (typeof dirty === 'string') {\n        IN_PLACE = false;\n      }\n\n      if (IN_PLACE) {\n        /* Do some early pre-sanitization to avoid unsafe root nodes */\n        if (dirty.nodeName) {\n          var tagName = transformCaseFunc(dirty.nodeName);\n\n          if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n            throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n          }\n        }\n      } else if (dirty instanceof Node) {\n        /* If dirty is a DOM element, append to an empty document to avoid\n           elements being stripped by the parser */\n        body = _initDocument('<!---->');\n        importedNode = body.ownerDocument.importNode(dirty, true);\n\n        if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n          /* Node is already a body, use as is */\n          body = importedNode;\n        } else if (importedNode.nodeName === 'HTML') {\n          body = importedNode;\n        } else {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          body.appendChild(importedNode);\n        }\n      } else {\n        /* Exit directly if we have nothing to do */\n        if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1) {\n          return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        }\n        /* Initialize the document to work on */\n\n\n        body = _initDocument(dirty);\n        /* Check we have a DOM node from the data */\n\n        if (!body) {\n          return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n        }\n      }\n      /* Remove first element node (ours) if FORCE_BODY is set */\n\n\n      if (body && FORCE_BODY) {\n        _forceRemove(body.firstChild);\n      }\n      /* Get node iterator */\n\n\n      var nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n      /* Now start iterating over the created document */\n\n\n      while (currentNode = nodeIterator.nextNode()) {\n        /* Sanitize tags and elements */\n        if (_sanitizeElements(currentNode)) {\n          continue;\n        }\n        /* Shadow DOM detected, sanitize it */\n\n\n        if (currentNode.content instanceof DocumentFragment) {\n          _sanitizeShadowDOM(currentNode.content);\n        }\n        /* Check attributes, sanitize if necessary */\n\n\n        _sanitizeAttributes(currentNode);\n      }\n      /* If we sanitized `dirty` in-place, return it. */\n\n\n      if (IN_PLACE) {\n        return dirty;\n      }\n      /* Return sanitized string or DOM */\n\n\n      if (RETURN_DOM) {\n        if (RETURN_DOM_FRAGMENT) {\n          returnNode = createDocumentFragment.call(body.ownerDocument);\n\n          while (body.firstChild) {\n            // eslint-disable-next-line unicorn/prefer-dom-node-append\n            returnNode.appendChild(body.firstChild);\n          }\n        } else {\n          returnNode = body;\n        }\n\n        if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmod) {\n          /*\n            AdoptNode() is not used because internal state is not reset\n            (e.g. the past names map of a HTMLFormElement), this is safe\n            in theory but we would rather not risk another attack vector.\n            The state that is cloned by importNode() is explicitly defined\n            by the specs.\n          */\n          returnNode = importNode.call(originalDocument, returnNode, true);\n        }\n\n        return returnNode;\n      }\n\n      var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n      /* Serialize doctype if allowed */\n\n      if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n        serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n      }\n      /* Sanitize final string template-safe */\n\n\n      if (SAFE_FOR_TEMPLATES) {\n        serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR$1, ' ');\n        serializedHTML = stringReplace(serializedHTML, ERB_EXPR$1, ' ');\n        serializedHTML = stringReplace(serializedHTML, TMPLIT_EXPR$1, ' ');\n      }\n\n      return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n    };\n    /**\n     * Public method to set the configuration once\n     * setConfig\n     *\n     * @param {Object} cfg configuration object\n     */\n\n\n    DOMPurify.setConfig = function (cfg) {\n      _parseConfig(cfg);\n\n      SET_CONFIG = true;\n    };\n    /**\n     * Public method to remove the configuration\n     * clearConfig\n     *\n     */\n\n\n    DOMPurify.clearConfig = function () {\n      CONFIG = null;\n      SET_CONFIG = false;\n    };\n    /**\n     * Public method to check if an attribute value is valid.\n     * Uses last set config, if any. Otherwise, uses config defaults.\n     * isValidAttribute\n     *\n     * @param  {string} tag Tag name of containing element.\n     * @param  {string} attr Attribute name.\n     * @param  {string} value Attribute value.\n     * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n     */\n\n\n    DOMPurify.isValidAttribute = function (tag, attr, value) {\n      /* Initialize shared config vars if necessary. */\n      if (!CONFIG) {\n        _parseConfig({});\n      }\n\n      var lcTag = transformCaseFunc(tag);\n      var lcName = transformCaseFunc(attr);\n      return _isValidAttribute(lcTag, lcName, value);\n    };\n    /**\n     * AddHook\n     * Public method to add DOMPurify hooks\n     *\n     * @param {String} entryPoint entry point for the hook to add\n     * @param {Function} hookFunction function to execute\n     */\n\n\n    DOMPurify.addHook = function (entryPoint, hookFunction) {\n      if (typeof hookFunction !== 'function') {\n        return;\n      }\n\n      hooks[entryPoint] = hooks[entryPoint] || [];\n      arrayPush(hooks[entryPoint], hookFunction);\n    };\n    /**\n     * RemoveHook\n     * Public method to remove a DOMPurify hook at a given entryPoint\n     * (pops it from the stack of hooks if more are present)\n     *\n     * @param {String} entryPoint entry point for the hook to remove\n     * @return {Function} removed(popped) hook\n     */\n\n\n    DOMPurify.removeHook = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        return arrayPop(hooks[entryPoint]);\n      }\n    };\n    /**\n     * RemoveHooks\n     * Public method to remove all DOMPurify hooks at a given entryPoint\n     *\n     * @param  {String} entryPoint entry point for the hooks to remove\n     */\n\n\n    DOMPurify.removeHooks = function (entryPoint) {\n      if (hooks[entryPoint]) {\n        hooks[entryPoint] = [];\n      }\n    };\n    /**\n     * RemoveAllHooks\n     * Public method to remove all DOMPurify hooks\n     *\n     */\n\n\n    DOMPurify.removeAllHooks = function () {\n      hooks = {};\n    };\n\n    return DOMPurify;\n  }\n\n  var purify = createDOMPurify();\n\n  return purify;\n\n}));\n//# sourceMappingURL=purify.js.map\n","import { storageInterface } from './storageInterface';\n\ndeclare let i18n: string[];\n\nexport const webextension: storageInterface = {\n  async set(key: string, value: string): Promise<void> {\n    const obj = {} as any;\n    obj[key] = value;\n    return new Promise((resolve, reject) => {\n      getStorage(key).set(obj, function () {\n        if (chrome.runtime.lastError) {\n          reject(chrome.runtime.lastError);\n          return;\n        }\n        resolve();\n      });\n    });\n  },\n\n  async get(key: string): Promise<any> {\n    return new Promise((resolve, reject) => {\n      getStorage(key).get(key, function (results) {\n        if (chrome.runtime.lastError) {\n          reject(chrome.runtime.lastError);\n          return;\n        }\n        resolve(results[key]);\n      });\n    });\n  },\n\n  async remove(key: string): Promise<void> {\n    return new Promise((resolve, reject) => {\n      getStorage(key).remove(key, function () {\n        if (chrome.runtime.lastError) {\n          reject(chrome.runtime.lastError);\n          return;\n        }\n        resolve();\n      });\n    });\n  },\n\n  async list(type = 'local'): Promise<any> {\n    return new Promise((resolve, reject) => {\n      if (type === 'local') {\n        chrome.storage.local.get(null, function (results) {\n          resolve(results);\n        });\n      } else {\n        chrome.storage.sync.get(null, function (results) {\n          resolve(results);\n        });\n      }\n    });\n  },\n\n  async addStyle(css) {\n    try {\n      const style = document.createElement('style');\n      style.textContent = css;\n      (document.head || document.body || document.documentElement || document).appendChild(style);\n    } catch (e) {\n      console.log(`Could not add css:${e}`);\n    }\n  },\n\n  version() {\n    return chrome.runtime.getManifest().version;\n  },\n\n  lang(selector, args) {\n    if (api.settings.get('forceEn') && typeof i18n !== 'undefined') {\n      let message = i18n[selector];\n      if (typeof args !== 'undefined') {\n        for (let argIndex = 0; argIndex < args.length; argIndex++) {\n          message = message.replace(`$${argIndex + 1}`, args[argIndex]);\n        }\n      }\n      return message;\n    }\n    // @ts-ignore\n    return chrome.i18n.getMessage(selector, args);\n  },\n\n  assetUrl(filename) {\n    return chrome.extension.getURL(`assets/${filename}`);\n  },\n\n  injectCssResource(res, head) {\n    alert('injectCssResource not supported in webextension');\n  },\n\n  injectjsResource(res, head) {\n    const s = document.createElement('script');\n    s.src = chrome.extension.getURL(`vendor/${res}`);\n    s.onload = function () {\n      // @ts-ignore\n      this.remove();\n    };\n    head.get(0).appendChild(s);\n  },\n\n  updateDom(head) {\n    const s = document.createElement('script');\n    s.text = `\n        document.getElementsByTagName('head')[0].onclick = function(e){\n          try{\n            componentHandler.upgradeDom();\n          }catch(e){\n            console.log(e);\n            setTimeout(function(){\n              componentHandler.upgradeDom();\n            },500);\n          }\n        }`;\n    s.onload = function () {\n      // @ts-ignore\n      this.remove();\n    };\n    head.get(0).appendChild(s);\n  },\n\n  storageOnChanged(cb) {\n    chrome.storage.onChanged.addListener(cb);\n  },\n};\n\nfunction getStorage(key: string) {\n  if (utils.syncRegex.test(key)) {\n    return chrome.storage.sync;\n  }\n  return chrome.storage.local;\n}\n","import { sendMessageI, responseMessageI } from '../messageInterface';\nimport { requestInterface } from './requestInterface';\n\nexport const requestApi: requestInterface = {\n  async xhr(method, url) {\n    if (typeof requestApi.sendMessage !== 'undefined') {\n      return requestApi.sendMessage({ name: 'xhr', method, url }).then(xhr => {\n        if (xhr.status === 429) throw 'Rate limit Timeout';\n        return xhr;\n      });\n    }\n    throw 'Could not send xhr';\n  },\n\n  async sendMessage(message: sendMessageI): Promise<any> {\n    return new Promise((resolve, reject) => {\n      chrome.runtime.sendMessage(message, function (response: responseMessageI) {\n        resolve(response);\n      });\n    });\n  },\n\n  notification(options) {\n    this.sendMessage({\n      name: 'notification',\n      options,\n    });\n  },\n  database(call, param) {\n    return this.sendMessage({\n      name: 'database',\n      options: {\n        call,\n        param,\n      },\n    });\n  },\n};\n","import { reactive, ref } from 'vue';\n\nexport const settingsObj = {\n  options: reactive({\n    autoTrackingModeanime: 'video',\n    readerTracking: true,\n    autoTrackingModemanga: 'instant',\n    enablePages: {},\n    forceEn: false,\n    rpc: true,\n    presenceLargeImage: 'cover',\n    presenceShowButtons: true,\n    presenceShowMalsync: false,\n    userscriptModeButton: false,\n    syncMode: 'MAL',\n    syncModeSimkl: 'MAL',\n    localSync: true,\n    delay: 0,\n    videoDuration: 85,\n    malTags: false,\n    malContinue: true,\n    malResume: true,\n    usedPage: true,\n    epPredictions: true,\n\n    theme: 'auto',\n    themeSidebars: true,\n    themeColor: '#000000',\n    themeOpacity: 100,\n    themeImage: '',\n\n    minimalWindow: false,\n    posLeft: 'left',\n    miniMALonMal: false,\n    floatButtonStealth: false,\n    minimizeBigPopup: false,\n    floatButtonCorrection: true,\n    floatButtonHide: false,\n    autoCloseMinimal: false,\n    outWay: true,\n    miniMalWidth: '550px',\n    miniMalHeight: '90%',\n    malThumbnail: 100,\n    friendScore: true,\n    loadPTWForProgress: false,\n\n    quicklinks: [\n      '9anime',\n      'Crunchyroll',\n      'Gogoanime',\n      'Twistmoe',\n      'Mangadex',\n      'MangaNato',\n      'MangaFox',\n      'MangaSee',\n      'MangaFire',\n      'YugenAnime',\n      'Zoro',\n      'Funimation',\n      'Hulu',\n      'Netflix',\n      'Hidive',\n      'Vrv',\n      'VIZ',\n      'MangaPlus',\n      'MangaReader',\n      'marin',\n      'ComicK',\n    ],\n    quicklinksPosition: 'default',\n\n    autofull: false,\n    autoresume: false,\n    autoNextEp: false,\n    highlightAllEp: false,\n    checkForFiller: true,\n    crashReport: true,\n\n    introSkip: 85,\n    introSkipFwd: [17, 39],\n    introSkipBwd: [17, 37],\n    nextEpShort: [],\n    correctionShort: [67],\n    syncShort: [],\n\n    progressInterval: 120,\n    progressIntervalDefaultAnime: 'en/sub',\n    progressIntervalDefaultManga: 'en/sub',\n    progressNotificationsAnime: true,\n    progressNotificationsManga: true,\n\n    bookMarksList: false,\n\n    customDomains: [],\n\n    anilistUpdateUi: true,\n\n    anilistToken: '',\n    anilistOptions: {\n      displayAdultContent: true,\n      scoreFormat: 'POINT_10',\n    },\n    kitsuToken: '',\n    kitsuOptions: {\n      titleLanguagePreference: 'canonical',\n      sfwFilter: false,\n      ratingSystem: 'regular',\n    },\n    simklToken: '',\n\n    malToken: '',\n    malRefresh: '',\n\n    shikiToken: '',\n    shikiOptions: {\n      locale: 'ru',\n    },\n  }),\n\n  debounceArray: {},\n\n  isInit: ref(false),\n\n  async init() {\n    const tempSettings = [];\n    for (const key in this.options) {\n      const store = await api.storage.get(`settings/${key}`);\n      if (typeof store !== 'undefined') {\n        this.options[key] = store;\n        tempSettings[key] = /(token|refresh)/i.test(key) && store ? '********' : store;\n      }\n    }\n    con.log('Settings', tempSettings);\n\n    let rateDebounce;\n\n    api.storage.storageOnChanged((changes, namespace) => {\n      if (namespace === 'sync') {\n        for (const key in changes) {\n          const storageChange = changes[key];\n          if (/^settings\\//i.test(key)) {\n            this.options[key.replace('settings/', '')] = storageChange.newValue;\n            con.info(`Update ${key} option to ${storageChange.newValue}`);\n          }\n        }\n      }\n      if (namespace === 'local' && changes.rateLimit) {\n        try {\n          clearTimeout(rateDebounce);\n          if (changes.rateLimit.newValue) {\n            con.log('Rate limited');\n            if (!$('.type-rate').length) {\n              utils.flashm('Rate limited. Retrying in a moment', {\n                error: true,\n                type: 'rate',\n                permanent: true,\n              });\n            }\n          } else {\n            rateDebounce = setTimeout(() => {\n              con.log('No Rate limited');\n              $('.type-rate').remove();\n            }, 5000);\n          }\n        } catch (e) {\n          con.error(e);\n        }\n      }\n    });\n\n    this.isInit.value = true;\n\n    return this;\n  },\n\n  get(name: string) {\n    if (!this.isInit.value) throw 'Settings not initialized';\n    return this.options[name];\n  },\n\n  set(name: string, value: any) {\n    if (!Object.prototype.hasOwnProperty.call(this.options, name)) {\n      const err = Error(`${name} is not a defined option`);\n      con.error(err);\n      throw err;\n    }\n\n    this.options[name] = value;\n    return api.storage.set(`settings/${name}`, value);\n  },\n\n  setDebounce(name: string, value: any) {\n    this.options[name] = value;\n    clearTimeout(this.debounceArray[name]);\n    this.debounceArray[name] = setTimeout(() => {\n      this.set(name, value);\n      delete this.debounceArray[name];\n    }, 1000);\n  },\n\n  async getAsync(name: string) {\n    const value = await api.storage.get(`settings/${name}`);\n    if (typeof value === 'undefined' && typeof this.options[name] !== 'undefined')\n      return this.options[name];\n    return value;\n  },\n};\n","import { webextension } from './storage/webextension';\nimport { requestApi } from './request/requestWebextension';\nimport { settingsObj } from './settings';\n\nexport const storage = webextension;\n\nexport const request = requestApi;\n\nexport const settings = settingsObj;\n\nexport const type = 'webextension';\n","/* eslint-disable no-bitwise */\n\nexport const log = (function () {\n  return Function.prototype.bind.call(\n    console.log,\n    console,\n    '%cMAL-Sync',\n    'background-color: #2e51a2; color: white; padding: 2px 10px; border-radius: 3px;',\n  );\n})();\n\nexport const error = (function () {\n  return Function.prototype.bind.call(\n    console.error,\n    console,\n    '%cMAL-Sync',\n    'background-color: #8f0000; color: white; padding: 2px 10px; border-radius: 3px;',\n  );\n})();\n\nexport const info = (function () {\n  return Function.prototype.bind.call(\n    console.info,\n    console,\n    '%cMAL-Sync',\n    'background-color: wheat; color: black; padding: 2px 10px; border-radius: 3px;',\n  );\n})();\n\nexport const debug = (function () {\n  return Function.prototype.bind.call(\n    console.debug,\n    console,\n    '%cMAL-Sync',\n    'background-color: steelblue; color: black; padding: 2px 10px; border-radius: 3px;',\n  );\n})();\n\nexport const m = (name, color = '', blocks: { name: string; style: string }[] = []) => {\n  let fontColor = 'white';\n  if (!color) color = stringToColour(name);\n  if (color[0] === '#') fontColor = getColorByBgColor(color);\n  const style = `background-color: ${color}; color: ${fontColor}; padding: 2px 10px; border-radius: 3px; margin-left: -5px; border-left: 1px solid white;`;\n  blocks.push({\n    name,\n    style,\n  });\n\n  const temp: any = {};\n\n  temp.m = (name2, color2 = '') => {\n    return m(name2, color2, [...blocks]);\n  };\n\n  const moduleText = blocks.reduce((sum, el) => `${sum}%c${el.name}`, '');\n  const moduleStyle = blocks.map(el => el.style);\n\n  temp.log = (function () {\n    return Function.prototype.bind.call(\n      console.log,\n      console,\n      `%cM ${moduleText}`,\n      'background-color: #2e51a2; color: white; padding: 2px 10px; border-radius: 3px;',\n      ...moduleStyle,\n    );\n  })();\n\n  temp.error = (function () {\n    return Function.prototype.bind.call(\n      console.error,\n      console,\n      `%cM ${moduleText}`,\n      'background-color: #8f0000; color: white; padding: 2px 10px; border-radius: 3px;',\n      ...moduleStyle,\n    );\n  })();\n\n  temp.info = (function () {\n    return Function.prototype.bind.call(\n      console.info,\n      console,\n      `%cM ${moduleText}`,\n      'background-color: wheat; color: black; padding: 2px 10px; border-radius: 3px;',\n      ...moduleStyle,\n    );\n  })();\n\n  temp.debug = (function () {\n    return Function.prototype.bind.call(\n      console.debug,\n      console,\n      `%cM ${moduleText}`,\n      'background-color: steelblue; color: black; padding: 2px 10px; border-radius: 3px;',\n      ...moduleStyle,\n    );\n  })();\n\n  return temp;\n};\n\nfunction stringToColour(str) {\n  if (!str) return '#ffffff';\n  str = String(str);\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    hash = str.charCodeAt(i) + ((hash << 5) - hash);\n  }\n  let colour = '#';\n  for (let i = 0; i < 3; i++) {\n    const value = (hash >> (i * 8)) & 0xff;\n    colour += `00${value.toString(16)}`.substr(-2);\n  }\n  return colour;\n}\n\nfunction getColorByBgColor(bgColor) {\n  return parseInt(bgColor.replace('#', ''), 16) > 0xffffff / 2 ? '#000' : '#fff';\n}\n","declare let browser: any;\n\nexport function urlPart(url: string, part: number) {\n  if (!url) return '';\n\n  const urlParts = url.split('/');\n\n  if (!urlParts[part]) return '';\n\n  return urlParts[part].replace(/[#?].*/, '');\n}\n\nexport function urlStrip(url: string) {\n  return url.replace(/[#?].*/, '');\n}\n\nexport function urlParam(url, name) {\n  const results = new RegExp(`[?&]${name}=([^&#]*)`).exec(url);\n  if (results === null) {\n    return null;\n  }\n  return decodeURI(results[1]) || 0;\n}\n\nexport function getBaseText(element) {\n  let text = element.text();\n  element.children().each(function () {\n    // @ts-ignore\n    text = text.replace(j.$(this).text(), '');\n  });\n  return text;\n}\n\n/**\n * Generates a (hex) string ID for randomisation/verification.\n */\nexport function generateUniqueID(arraySize = 10): string {\n  const array = new Uint32Array(arraySize);\n  window.crypto.getRandomValues(array);\n  return Array.from(array, value => value.toString(16)).join('');\n}\n\nexport function favicon(domain) {\n  if (!domain) return '';\n  const res = domain.match(/^(https?:\\/\\/)?[^/]+/);\n\n  if (res) domain = res[0];\n\n  return `https://favicon.malsync.moe/?domain=${domain}`;\n}\n\nexport function watching(type: 'anime' | 'manga') {\n  if (type === 'manga') return 'Reading';\n  return 'Watching';\n}\n\nexport function planTo(type: 'anime' | 'manga') {\n  if (type === 'manga') return 'Plan to Read';\n  return 'Plan to Watch';\n}\n\nexport function episode(type: 'anime' | 'manga') {\n  if (type === 'manga') return api.storage.lang('UI_Chapter');\n  return api.storage.lang('UI_Episode');\n}\n\nexport const syncRegex =\n  /(^settings\\/.*|^updateCheckTime$|^tempVersion$|^local:\\/\\/|^list-tagSettings$)/;\n\nexport const rateLimitExclude = /^https:\\/\\/api.malsync.moe\\/(shark|mal\\/|nc\\/mal\\/.*\\/progress$)/i;\n\n// eslint-disable-next-line no-shadow\nexport enum status {\n  // eslint-disable-next-line no-shadow\n  watching = 1,\n  completed = 2,\n  onhold = 3,\n  dropped = 4,\n  planToWatch = 6,\n}\n\nexport function getselect(data, name) {\n  let temp = data.split(`name=\"${name}\"`)[1].split('</select>')[0];\n  if (temp.indexOf('selected=\"selected\"') > -1) {\n    temp = temp.split('<option');\n    for (let i = 0; i < temp.length; ++i) {\n      if (temp[i].indexOf('selected=\"selected\"') > -1) {\n        return temp[i].split('value=\"')[1].split('\"')[0];\n      }\n    }\n  }\n  return '';\n}\n\nexport function absoluteLink(url, domain) {\n  if (typeof url === 'undefined') {\n    return url;\n  }\n  if (!url.startsWith('http')) {\n    if (url.charAt(0) !== '/') url = `/${url}`;\n    url = domain + url;\n  }\n  return url;\n}\n\nexport function parseHtml(text) {\n  const parser = new DOMParser();\n  const dom = parser.parseFromString(`<!doctype html><body>${text}`, 'text/html');\n  return dom.body.textContent;\n}\n\nexport function urlChangeDetect(callback) {\n  let currentPage = window.location.href;\n  return setInterval(function () {\n    if (currentPage !== window.location.href) {\n      currentPage = window.location.href;\n      callback();\n    }\n  }, 100);\n}\n\nexport function fullUrlChangeDetect(callback, strip = false) {\n  let currentPage = '';\n  const intervalId = setInterval(function () {\n    const url = strip ? urlStrip(window.location.href) : window.location.href;\n    if (currentPage !== url) {\n      currentPage = url;\n      callback();\n    }\n  }, 100);\n\n  return Number(intervalId);\n}\n\nexport function changeDetect(callback, func, immediate = false) {\n  let currentPage = func();\n  const intervalId = setInterval(function () {\n    const temp = func();\n    if (typeof temp !== 'undefined' && currentPage !== temp) {\n      currentPage = func();\n      callback();\n    }\n  }, 500);\n\n  if (immediate) callback();\n\n  return Number(intervalId);\n}\n\nexport function waitUntilTrue(condition: Function, callback: Function, interval = 100) {\n  const intervalId = setInterval(function () {\n    if (condition()) {\n      clearInterval(intervalId);\n      callback();\n    }\n  }, interval);\n\n  return intervalId;\n}\n\nexport function getAsyncWaitUntilTrue(condition: Function, interval = 100) {\n  let intervalId;\n  let rejectThis;\n  const reset = () => {\n    clearTimeout(intervalId);\n    if (rejectThis) rejectThis('AsyncWait stopped');\n  };\n\n  return {\n    asyncWaitUntilTrue: () => {\n      reset();\n      return new Promise<void>((resolve, reject) => {\n        rejectThis = reject;\n        intervalId = waitUntilTrue(condition, () => resolve(), interval);\n      });\n    },\n    reset,\n  };\n}\n\nconst doubleId = Math.random();\nexport function checkDoubleExecution() {\n  if ($('.mal-sync-double-detect').length) {\n    $('.mal-sync-double-detect').each(function (index) {\n      if ($(this).text() !== doubleId.toString()) {\n        alert('Double execution detected! Please run MAL-Sync once only.');\n      }\n    });\n  }\n  $('body').after(\n    j.html(\n      `<div class=\"mal-sync-double-detect\" style=\"display: none;\">${doubleId.toString()}</div>`,\n    ),\n  );\n}\n\nexport function getUrlFromTags(tags: string) {\n  if (/malSync::[\\d\\D]+::/.test(tags)) {\n    return atobURL(tags.split('malSync::')[1].split('::')[0]);\n  }\n  if (/last::[\\d\\D]+::/.test(tags)) {\n    return atobURL(tags.split('last::')[1].split('::')[0]);\n  }\n  return undefined;\n\n  function atobURL(encoded) {\n    try {\n      return atob(encoded);\n    } catch (e) {\n      return encoded;\n    }\n  }\n}\n\nexport function setUrlInTags(url: string, tags: string) {\n  if (url === '') {\n    tags = tags.replace(/,?(malSync|last)::[^ \\n]+?::/, '');\n    return tags;\n  }\n  if (!api.settings.get('malTags')) return tags;\n  const addition = `malSync::${btoa(url)}::`;\n  if (/(last|malSync)::[\\d\\D]+::/.test(tags)) {\n    tags = tags.replace(/(last|malSync)::[^^]*?::/, addition);\n  } else {\n    tags = `${tags},${addition}`;\n  }\n  return tags;\n}\n\nexport async function setResumeWaching(url: string, ep: number, type, id) {\n  return api.storage.set(`resume/${type}/${id}`, { url, ep });\n}\n\nexport async function getResumeWaching(type, id): Promise<{ url?: string; ep?: number } | void> {\n  if (!api.settings.get('malResume')) return;\n\n  /* eslint-disable-next-line consistent-return */\n  return api.storage.get(`resume/${type}/${id}`);\n}\n\nexport async function setContinueWaching(url: string, ep: number, type, id) {\n  return api.storage.set(`continue/${type}/${id}`, { url, ep });\n}\n\nexport async function getContinueWaching(type, id): Promise<{ url?: string; ep?: number } | void> {\n  if (!api.settings.get('malContinue')) return;\n\n  /* eslint-disable-next-line consistent-return */\n  return api.storage.get(`continue/${type}/${id}`);\n}\n\nexport async function setEntrySettings(type, id, options, tags = '') {\n  const tempOptions = {};\n  if (options) {\n    for (const key in options) {\n      switch (key) {\n        case 'u':\n        case 'p':\n          tempOptions[key] = options[key];\n          break;\n        default:\n      }\n    }\n\n    if (api.settings.get('malTags')) {\n      // TAG mode\n      tags = setUrlInTags(JSON.stringify(tempOptions), tags);\n    } else {\n      // No TAG mode\n      await api.storage.set(`tagSettings/${type}/${id}`, JSON.stringify(tempOptions));\n    }\n  }\n\n  if (!Object.values(tempOptions).find(el => Boolean(el))) {\n    tags = setUrlInTags('', tags);\n    if (!api.settings.get('malTags')) {\n      await api.storage.remove(`tagSettings/${type}/${id}`);\n    }\n  }\n\n  return tags;\n}\n\nexport async function getEntrySettings(type, id, tags = '') {\n  const tempOptions: any = {\n    u: null, // url\n    c: null, // Continue Url\n    r: null, // Resume Url\n    p: '', // Progress Mode\n  };\n\n  if (api.settings.get('malTags')) {\n    // TAG mode\n    const tagString = getUrlFromTags(tags);\n    if (tagString) {\n      if (tagString[0] === '{') {\n        try {\n          const temp = JSON.parse(tagString);\n          for (const key in tempOptions) {\n            if (temp[key]) tempOptions[key] = temp[key];\n          }\n        } catch (e) {\n          con.error(e);\n        }\n      } else {\n        tempOptions.u = tagString;\n      }\n    }\n  } else {\n    // No TAG mode\n    let temp: any = await api.storage.get(`tagSettings/${type}/${id}`);\n\n    if (temp) {\n      temp = JSON.parse(temp);\n\n      for (const key in tempOptions) {\n        if (temp[key]) tempOptions[key] = temp[key];\n      }\n    }\n  }\n\n  const continueUrlObj = await getContinueWaching(type, id);\n  if (continueUrlObj) tempOptions.c = continueUrlObj;\n  const resumeUrlObj = await getResumeWaching(type, id);\n  if (resumeUrlObj) tempOptions.r = resumeUrlObj;\n\n  if (!api.settings.get('usedPage')) tempOptions.u = null;\n\n  return tempOptions;\n}\n\nexport function handleMalImages(url) {\n  if (url.indexOf('questionmark') !== -1) return api.storage.assetUrl('questionmark.gif');\n  return url;\n}\n\nexport function getTooltip(text, style = '', direction = 'top') {\n  const rNumber = Math.floor(Math.random() * 1000 + 1);\n  return `<div id=\"tt${rNumber}\" class=\"icon material-icons\" style=\"font-size:16px; line-height: 0; color: #7f7f7f; padding-bottom: 20px; padding-left: 3px; ${style}\">contact_support</div>\\\n  <div class=\"mdl-tooltip mdl-tooltip--${direction} mdl-tooltip--large\" for=\"tt${rNumber}\">${text}</div>`;\n}\n\nexport function timeDiffToText(delta) {\n  let text = '';\n\n  delta /= 1000;\n\n  const diffYears = Math.floor(delta / 31536000);\n  delta -= diffYears * 31536000;\n  if (diffYears) {\n    text += `${diffYears}y `;\n  }\n\n  const diffDays = Math.floor(delta / 86400);\n  delta -= diffDays * 86400;\n  if (diffDays) {\n    text += `${diffDays}d `;\n  }\n\n  const diffHours = Math.floor(delta / 3600) % 24;\n  delta -= diffHours * 3600;\n  if (diffHours && diffDays < 2) {\n    text += `${diffHours}h `;\n  }\n\n  const diffMinutes = Math.floor(delta / 60) % 60;\n  delta -= diffMinutes * 60;\n  if (diffMinutes && !diffDays && diffHours < 3) {\n    text += `${diffMinutes}min `;\n  }\n\n  return text;\n}\n\nexport function canHideTabs() {\n  if (typeof browser !== 'undefined' && typeof browser.tabs.hide !== 'undefined') {\n    return true;\n  }\n  return false;\n}\n\n// eslint-disable-next-line no-shadow\nexport function statusTag(status, type, id) {\n  const info = {\n    anime: {\n      1: {\n        class: 'watching',\n        text: 'CW',\n        title: api.storage.lang(`UI_Status_watching_${type}`),\n      },\n      2: {\n        class: 'completed',\n        text: 'CMPL',\n        title: api.storage.lang('UI_Status_Completed'),\n      },\n      3: {\n        class: 'on-hold',\n        text: 'HOLD',\n        title: api.storage.lang('UI_Status_OnHold'),\n      },\n      4: {\n        class: 'dropped',\n        text: 'DROP',\n        title: api.storage.lang('UI_Status_Dropped'),\n      },\n      6: {\n        class: 'plantowatch',\n        text: 'PTW',\n        title: api.storage.lang(`UI_Status_planTo_${type}`),\n      },\n      23: {\n        class: 'rewatching',\n        text: 'RE',\n        title: api.storage.lang(`UI_Status_Rewatching_${type}`),\n      },\n    },\n    manga: {\n      1: {\n        class: 'reading',\n        text: 'CR',\n        title: api.storage.lang(`UI_Status_watching_${type}`),\n      },\n      2: {\n        class: 'completed',\n        text: 'CMPL',\n        title: api.storage.lang('UI_Status_Completed'),\n      },\n      3: {\n        class: 'on-hold',\n        text: 'HOLD',\n        title: api.storage.lang('UI_Status_OnHold'),\n      },\n      4: {\n        class: 'dropped',\n        text: 'DROP',\n        title: api.storage.lang('UI_Status_Dropped'),\n      },\n      6: {\n        class: 'plantoread',\n        text: 'PTR',\n        title: api.storage.lang(`UI_Status_planTo_${type}`),\n      },\n      23: {\n        class: 'rewatching',\n        text: 'RE',\n        title: api.storage.lang(`UI_Status_Rewatching_${type}`),\n      },\n    },\n  };\n\n  $.each([1, 2, 3, 4, 6, 23], function (i, el) {\n    info.anime[info.anime[el].title] = info.anime[el];\n    info.manga[info.manga[el].title] = info.manga[el];\n  });\n\n  if (status && info[type][status]) {\n    const tempInfo = info[type][status];\n    return ` <a href=\"https://myanimelist.net/ownlist/${type}/${id}/edit?hideLayout=1\" title=\"${tempInfo.title}\" class=\"Lightbox_AddEdit button_edit ${tempInfo.class}\">${tempInfo.text}</a>`;\n  }\n  return false;\n}\n\nexport function getStatusText(type: 'anime' | 'manga', state) {\n  switch (state) {\n    case 1:\n      return api.storage.lang(`UI_Status_watching_${type}`);\n    case 2:\n      return api.storage.lang('UI_Status_Completed');\n    case 3:\n      return api.storage.lang('UI_Status_OnHold');\n    case 4:\n      return api.storage.lang('UI_Status_Dropped');\n    case 6:\n      return api.storage.lang(`UI_Status_planTo_${type}`);\n    case 7:\n      return api.storage.lang(`UI_Status_All`);\n    case 23:\n      return api.storage.lang(`UI_Status_Rewatching_${type}`);\n    default:\n      return '';\n  }\n}\n\n// eslint-disable-next-line consistent-return\nexport function notifications(url: string, title: string, message: string, iconUrl = '') {\n  const messageObj: chrome.notifications.NotificationOptions<true> = {\n    type: 'basic',\n    title,\n    message,\n    iconUrl,\n  };\n\n  con.log('Notification', url, messageObj);\n\n  api.storage.get('notificationHistory').then(history => {\n    if (history === undefined) {\n      history = [];\n    }\n\n    if (typeof history !== 'object') return;\n\n    if (history.length >= 10) {\n      history.shift();\n    }\n    history.push({\n      url,\n      title: messageObj.title,\n      message: messageObj.message,\n      iconUrl: messageObj.iconUrl,\n      timestamp: Date.now(),\n    });\n    api.storage.set('notificationHistory', history);\n  });\n\n  try {\n    return chrome.notifications.create(url, messageObj);\n  } catch (e) {\n    con.error(e);\n  }\n}\n\nexport async function timeCache(key, dataFunction, ttl) {\n  const value = await api.storage.get(key);\n  if (typeof value === 'object' && new Date().getTime() < value.timestamp) {\n    return value.data;\n  }\n  const result = await dataFunction();\n  return api.storage.set(key, { data: result, timestamp: new Date().getTime() + ttl }).then(() => {\n    return result;\n  });\n}\n\n// flashm\nexport function flashm(\n  text,\n  options?: {\n    error?: boolean;\n    type?: string;\n    permanent?: boolean;\n    hoverInfo?: boolean;\n    position?: 'top' | 'bottom';\n    minimized?: boolean;\n  },\n) {\n  if (!j.$('#flash-div-top').length) {\n    initflashm();\n  }\n  con.log('[Flash] Message:', text);\n\n  let colorF = '#323232';\n  if (typeof options !== 'undefined' && typeof options.error !== 'undefined' && options.error) {\n    colorF = '#3e0808';\n  }\n\n  let flashdiv = '#flash-div-bottom';\n  if (\n    typeof options !== 'undefined' &&\n    typeof options.position !== 'undefined' &&\n    options.position\n  ) {\n    flashdiv = `#flash-div-${options.position}`;\n  }\n\n  let messClass = 'flash';\n  if (typeof options !== 'undefined' && typeof options.type !== 'undefined' && options.type) {\n    const tempClass = `type-${options.type}`;\n    j.$(`${flashdiv} .${tempClass}, #flashinfo-div .${tempClass}`)\n      .removeClass(tempClass)\n      .fadeOut({\n        duration: 1000,\n        queue: false,\n        complete() {\n          j.$(this).remove();\n        },\n      });\n\n    messClass += ` ${tempClass}`;\n  }\n\n  let mess = `<div class=\"${messClass}\" style=\"display:none;\">\\\n        <div style=\"display:table; pointer-events: all; padding: 14px 24px 14px 24px; margin: 0 auto; margin-top: 5px; max-width: 60%; -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 2px;color: white;background:${colorF}; \">\\\n          ${text}\\\n        </div>\\\n      </div>`;\n\n  let flashmEl;\n\n  if (\n    typeof options !== 'undefined' &&\n    typeof options.hoverInfo !== 'undefined' &&\n    options.hoverInfo\n  ) {\n    messClass += ' flashinfo';\n    mess = `<div class=\"${messClass}\" style=\"display:none; max-height: 5000px; overflow: hidden;\"><div style=\"display:table; pointer-events: all; margin: 0 auto; margin-top: -2px; max-width: 60%; -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 2px;color: white;background:${colorF}; position: relative;\"><div style=\"max-height: 60vh; overflow-y: auto; padding: 14px 24px 14px 24px;\">${text}</div></div></div>`;\n    j.$('#flashinfo-div').addClass('hover');\n    // eslint-disable-next-line jquery-unsafe-malsync/no-xss-jquery\n    flashmEl = j.$(j.html(mess)).appendTo('#flashinfo-div');\n    if (\n      typeof options !== 'undefined' &&\n      typeof options.minimized !== 'undefined' &&\n      options.minimized\n    )\n      flashmEl.css('max-height', '8px');\n  } else {\n    // eslint-disable-next-line jquery-unsafe-malsync/no-xss-jquery\n    flashmEl = j.$(j.html(mess)).appendTo(flashdiv);\n  }\n\n  if (\n    typeof options !== 'undefined' &&\n    typeof options.permanent !== 'undefined' &&\n    options.permanent\n  ) {\n    flashmEl.slideDown(800);\n  } else if (\n    typeof options !== 'undefined' &&\n    typeof options.hoverInfo !== 'undefined' &&\n    options.hoverInfo\n  ) {\n    flashmEl\n      .slideDown(800)\n      .delay(4000)\n      .queue(function () {\n        j.$('#flashinfo-div').removeClass('hover');\n        flashmEl.css('max-height', '8px');\n      });\n  } else {\n    flashmEl\n      .slideDown(800)\n      .delay(4000)\n      .slideUp(800, () => {\n        // @ts-ignore\n        j.$(this).remove();\n      });\n  }\n  return flashmEl;\n}\n\nexport async function flashConfirm(\n  message,\n  type,\n  yesCall = () => {\n    /* Placeholder */\n  },\n  cancelCall = () => {\n    /* Placeholder */\n  },\n  yesNo = false,\n): Promise<boolean> {\n  return new Promise(function (resolve, reject) {\n    let yesText = api.storage.lang('Ok');\n    let noText = api.storage.lang('Cancel');\n    if (yesNo) {\n      yesText = api.storage.lang('Yes');\n      noText = api.storage.lang('No');\n    }\n    message = `<div style=\"text-align: center;\">${message}</div><div style=\"display: flex; justify-content: space-around;\"><button class=\"Yes\" style=\"background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px; cursor:pointer;\">${yesText}</button><button class=\"Cancel\" style=\"background-color: transparent; border: none; color: rgb(255,64,129);margin-top: 10px; cursor:pointer;\">${noText}</button></div>`;\n    const flasmessage = flashm(message, {\n      permanent: true,\n      position: 'top',\n      type,\n    });\n    flasmessage.find('.Yes').click(function (evt) {\n      resolve(true);\n      j.$(evt.target)\n        .parentsUntil('.flash')\n        .fadeOut(300, function () {\n          // @ts-ignore\n          j.$(this).remove();\n        });\n      yesCall();\n    });\n    flasmessage.find('.Cancel').click(function (evt) {\n      resolve(false);\n      j.$(evt.target)\n        .parentsUntil('.flash')\n        .fadeOut(300, function () {\n          // @ts-ignore\n          j.$(this).remove();\n        });\n      cancelCall();\n    });\n  });\n}\n\nfunction initflashm() {\n  api.storage.addStyle(\n    `.flashinfo{\n                    transition: max-height 2s, opacity 2s 2s;\n                 }\n                 .mini-stealth .flashinfo{\n                    opacity: 0;\n                 }\n                  #flashinfo-div.hover.mini-stealth .flashinfo.type-update{\n                    opacity: 0.7;\n                 }\n                 #flashinfo-div.hover .flashinfo{\n                    opacity: 1;\n                 }\n                 .flashinfo:hover{\n                    max-height:5000px !important;\n                    z-index: 2147483647;\n                    opacity: 1;\n                    transition: max-height 2s;\n                 }\n                 .flashinfo .synopsis{\n                    transition: max-height 2s, max-width 2s ease 2s;\n                 }\n                 .flashinfo:hover .synopsis{\n                    max-height:9999px !important;\n                    max-width: 500px !important;\n                    transition: max-height 2s;\n                 }\n                 #flashinfo-div{\n                  z-index: 2;\n                  transition: 2s;\n                 }\n                 #flashinfo-div:hover, #flashinfo-div.hover{\n                  z-index: 2147483647;\n                 }\n                 #flashinfo-div.player-error {\n                   z-index: 2147483647;\n                 }\n                 #flashinfo-div.player-error .type-update{\n                  overflow: visible !important;\n                  opacity: 1 !important;\n                 }\n                 #flashinfo-div.player-error .player-error{\n                  display: block !important\n                 }\n                 #flashinfo-div.player-error-missing-permissions .player-error-missing-permissions{\n                  display: block !important\n                 }\n                 #flashinfo-div.player-error-missing-permissions .player-error-default{\n                  display: none !important\n                 }\n\n                 #flash-div-top, #flash-div-bottom, #flashinfo-div{\n                    font-family: \"Helvetica\",\"Arial\",sans-serif;\n                    color: white;\n                    font-size: 14px;\n                    font-weight: 400;\n                    line-height: 17px;\n                 }\n                 #flash-div-top h2, #flash-div-bottom h2, #flashinfo-div h2{\n                    font-family: \"Helvetica\",\"Arial\",sans-serif;\n                    color: white;\n                    font-size: 14px;\n                    font-weight: 700;\n                    line-height: 17px;\n                    padding: 0;\n                    margin: 0;\n                 }\n                 #flash-div-top a, #flash-div-bottom a, #flashinfo-div a{\n                    color: #DF6300;\n                 }`,\n  );\n\n  let extraClass = '';\n  if (api.settings.get('floatButtonStealth')) extraClass = 'mini-stealth';\n\n  j.$('body').after(\n    j.html(\n      `<div id=\"flash-div-top\" style=\"text-align: center;pointer-events: none;position: fixed;top:-5px;width:100%;z-index: 2147483647;left: 0;\"></div>\\\n        <div id=\"flash-div-bottom\" style=\"text-align: center;pointer-events: none;position: fixed;bottom:0px;width:100%;z-index: 2147483647;left: 0;\"><div id=\"flash\" style=\"display:none;  background-color: red;padding: 20px; margin: 0 auto;max-width: 60%;          -webkit-border-radius: 20px;-moz-border-radius: 20px;border-radius: 20px;background:rgba(227,0,0,0.6);\"></div></div>\\\n        <div id=\"flashinfo-div\" class=\"${extraClass}\" style=\"text-align: center;pointer-events: none;position: fixed;bottom:0px;width:100%;left: 0;\">`,\n    ),\n  );\n}\n\nlet lazyloaded = false;\nlet lazyimages: any[] = [];\n\nexport function lazyload(doc, scrollElement = '.mdl-layout__content') {\n  /* lazyload.js (c) Lorenzo Giuliani\n   * MIT License (http://www.opensource.org/licenses/mit-license.html)\n   *\n   * expects a list of:\n   * `<img src=\"blank.gif\" data-src=\"my_image.png\" width=\"600\" height=\"400\" class=\"lazy\">`\n   */\n  // eslint-disable-next-line\n  function loadImage(el, fn) {\n    if (!j.$(el).is(':visible')) return false;\n    if (j.$(el).hasClass('lazyBack')) {\n      j.$(el)\n        .css('background-image', `url(${el.getAttribute('data-src')})`)\n        .removeClass('lazyBack');\n    } else {\n      const img = new Image();\n      const src = el.getAttribute('data-src');\n      img.onload = function () {\n        if (el.parent) el.parent.replaceChild(img, el);\n        else el.src = src;\n        // eslint-disable-next-line\n        fn ? fn() : null;\n      };\n      img.src = src;\n    }\n  }\n\n  for (let i = 0; i < lazyimages.length; i++) {\n    $(lazyimages[i]).addClass('init');\n  }\n\n  lazyimages = [];\n  const query = doc.find('img.lazy.init, .lazyBack.init');\n  const processScroll = function () {\n    for (let i = 0; i < lazyimages.length; i++) {\n      if (utils.elementInViewport(lazyimages[i], 600)) {\n        // eslint-disable-next-line\n        loadImage(lazyimages[i], function() {\n          lazyimages.splice(i, i);\n        });\n      }\n      if (!$(lazyimages[i]).length) {\n        lazyimages.splice(i, i);\n      }\n    }\n  };\n  // Array.prototype.slice.call is not callable under our lovely IE8\n  for (let i = 0; i < query.length; i++) {\n    lazyimages.push(query[i]);\n    $(query[i]).removeClass('init');\n  }\n\n  processScroll();\n\n  if (!lazyloaded) {\n    lazyloaded = true;\n    doc.find(scrollElement).scroll(function () {\n      processScroll();\n    });\n  }\n}\n\nexport function elementInViewport(el, horizontalOffset = 0) {\n  const rect = el.getBoundingClientRect();\n\n  return (\n    rect.top >= 0 &&\n    rect.left >= 0 &&\n    // @ts-ignore\n    rect.top - horizontalOffset <= (window.innerHeight || document.documentElement.clientHeight)\n  );\n}\n\nexport function wait(ms: number) {\n  return new Promise(resolve => {\n    setTimeout(resolve, ms);\n  });\n}\n\nexport function pageUrl(\n  page: 'mal' | 'anilist' | 'kitsu' | 'simkl',\n  type: 'anime' | 'manga',\n  id: string | number,\n) {\n  switch (page) {\n    case 'mal':\n      return `https://myanimelist.net/${type}/${id}`;\n    case 'anilist':\n      return `https://anilist.co/${type}/${id}`;\n    case 'kitsu':\n      return `https://kitsu.io/${type}/${id}`;\n    case 'simkl':\n      return `https://simkl.com/${type}/${id}`;\n    default:\n      throw `${page} not a valid page`;\n  }\n}\n\nexport function returnYYYYMMDD(numFromToday = 0) {\n  const d = new Date();\n  d.setDate(d.getDate() + numFromToday);\n  const month = d.getMonth() < 9 ? `0${d.getMonth() + 1}` : d.getMonth() + 1;\n  const day = d.getDate() < 10 ? `0${d.getDate()}` : d.getDate();\n  return `${d.getFullYear()}-${month}-${day}`;\n}\n\nexport function htmlDecode(text) {\n  return $('<textarea/>').html(j.html(text)).text();\n}\n\nexport function isFirefox(): boolean {\n  return Boolean(typeof browser !== 'undefined' && typeof chrome !== 'undefined');\n}\n\nexport function waitForPageToBeVisible() {\n  const condition = () =>\n    Boolean(!document.visibilityState || document.visibilityState === 'visible');\n\n  if (condition()) return Promise.resolve();\n\n  con.log('Page in background');\n\n  const { asyncWaitUntilTrue: awaitUi } = getAsyncWaitUntilTrue(() => condition());\n\n  return awaitUi().then(() => {\n    con.log('Page is visible');\n  });\n}\n\nexport function makeDomainCompatible(domain: string) {\n  // Add '/' to end of origin if it doesn't exist\n  if (domain.split('/').length < 4) {\n    domain += '/';\n  }\n\n  // Remove all after ?\n  domain = domain.replace(/\\?.*/, '?');\n  return domain;\n}\n\nexport async function clearCache() {\n  const cacheArray = await api.storage.list();\n  let deleted = 0;\n\n  j.$.each(cacheArray, function (index, cache) {\n    if (!utils.syncRegex.test(String(index)) && !/(^tagSettings\\/.*)/.test(String(index))) {\n      api.storage.remove(String(index));\n      deleted++;\n    }\n  });\n\n  utils.flashm(`Cache Cleared [${deleted}]`);\n}\n\nexport function sortAlphabetically(a, b) {\n  if (a.toLowerCase() < b.toLowerCase()) return -1;\n  if (a.toLowerCase() > b.toLowerCase()) return 1;\n  return 0;\n}\n\nexport function isDomainMatching(url, domain) {\n  const urlObj = new URL(url);\n  const { host } = urlObj;\n  return host === domain || host.endsWith(`.${domain}`);\n}\n\nexport function upperCaseFirstLetter(string) {\n  if (!string || string.length < 2) return string;\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n","import * as DOMPurify from 'dompurify';\n\nexport const $ = jQuery;\n\nexport function html(htmlContent) {\n  return DOMPurify.sanitize(htmlContent, {\n    SAFE_FOR_JQUERY: true,\n    ALLOW_UNKNOWN_PROTOCOLS: true,\n    ADD_ATTR: ['target'],\n  });\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export const clientId = '10093a3f9f0174b6b5577c40e9accdae';\n\nexport function oauth() {\n  $(document).ready(async function () {\n    if (window.location.href.includes('code=')) {\n      try {\n        await getRefreshToken();\n      } catch (e) {\n        console.error(e);\n        $('.card-text').first().text(`Error: ${e}`);\n        $('body').removeClass();\n        $('body').addClass('noExtension');\n      }\n      return;\n    }\n    generateUrl();\n  });\n}\n\nfunction generateUrl() {\n  const challenge = generateRandomString(50);\n  const state = generateRandomString(10);\n  sessionStorage.setItem(state, challenge);\n  const url = `https://myanimelist.net/v1/oauth2/authorize?response_type=code&client_id=${clientId}&state=${state}&code_challenge=${challenge}&code_challenge_method=plain`;\n  $('.card-text.succ').prepend(\n    j.html(`<a class=\"btn btn-outline-light\" href=\"${url}\">Start Authentication</a>`),\n  );\n  $('body').removeClass();\n  $('body').addClass('success');\n}\n\nfunction generateRandomString(length: number): string {\n  let text = '';\n  const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~';\n  for (let i = 0; i < length; i++) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n  return text;\n}\n\nasync function getRefreshToken() {\n  const code = utils.urlParam(window.location.href, 'code');\n  const state = utils.urlParam(window.location.href, 'state');\n  window.history.replaceState('', '', '/mal/oauth');\n  if (!state || !code) throw 'Url wrong';\n  const challenge = sessionStorage.getItem(state);\n  if (!challenge) throw 'No challenge found';\n  return api.request\n    .xhr('POST', {\n      url: 'https://myanimelist.net/v1/oauth2/token',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      data: `&client_id=${clientId}&grant_type=authorization_code&code=${code}&code_verifier=${challenge}`,\n    })\n    .then(res => JSON.parse(res.responseText))\n    .then(json => {\n      if (json && json.refresh_token && json.access_token) {\n        api.settings.set('malToken', json.access_token);\n        api.settings.set('malRefresh', json.refresh_token);\n        $('.card-text.succ').prepend(j.html(api.storage.lang('anilistClass_authentication')));\n        $('body').removeClass();\n        $('body').addClass('success');\n        return;\n      }\n      if (json && json.error) throw json.error;\n      throw 'Something went wrong';\n    });\n}\n","import { oauth } from '../utils/oauth';\n\napi.settings.init().then(() => {\n  oauth();\n});\n"],"names":["createDep","effects","dep","Set","w","n","wasTracked","trackOpBit","newTracked","targetMap","WeakMap","effectTrackDepth","maxMarkerBits","activeEffect","ITERATE_KEY","Symbol","MAP_KEY_ITERATE_KEY","shouldTrack","trackStack","track","target","type","key","depsMap","get","set","Map","trackEffects","debuggerEventExtraInfo","has","add","deps","push","trigger","newValue","oldValue","oldTarget","values","newLength","Number","forEach","length","triggerEffects","effect","computed","triggerEffect","allowRecurse","scheduler","run","isNonTrackableKeys","builtInSymbols","Object","getOwnPropertyNames","filter","map","get$1","createGetter","readonlyGet","arrayInstrumentations","createArrayInstrumentations","instrumentations","args","arr","toRaw","this","i","l","res","apply","last","pop","undefined","resetTracking","hasOwnProperty","obj","isReadonly","shallow","receiver","shallowReadonlyMap","readonlyMap","shallowReactiveMap","reactiveMap","targetIsArray","Reflect","isRef","value","readonly","reactive","createSetter","isShallow","hadKey","result","mutableHandlers","deleteProperty","ownKeys","readonlyHandlers","toShallow","getProto","v","getPrototypeOf","rawTarget","rawKey","wrap","toReadonly","toReactive","call","size","deleteEntry","delete","clear","hadItems","createForEach","callback","thisArg","observed","createIterableMethod","method","targetIsMap","isPair","iterator","isKeyOnly","innerIterator","next","done","createReadonlyMethod","createInstrumentations","mutableInstrumentations","shallowInstrumentations","readonlyInstrumentations","shallowReadonlyInstrumentations","createInstrumentationGetter","mutableCollectionHandlers","readonlyCollectionHandlers","createReactiveObject","baseHandlers","collectionHandlers","proxyMap","existingProxy","targetType","isExtensible","rawType","targetTypeMap","proxy","Proxy","raw","r","__v_isRef","ref","rawValue","RefImpl","constructor","__v_isShallow","_rawValue","_value","trackRefValue","newVal","useDirectValue","triggerRefValue","makeMap","str","expectsLowerCase","create","list","split","val","toLowerCase","extend","assign","prototype","hasOwn","isArray","Array","isMap","toTypeString","isSymbol","isObject","objectToString","toString","toRawType","slice","isIntegerKey","parseInt","cacheStringFunction","fn","cache","camelizeRE","hyphenateRE","replace","_","c","toUpperCase","capitalize","charAt","hasChanged","is","module","exports","_typeof","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_construct","Parent","Class","construct","sham","Boolean","valueOf","e","_isNativeReflectConstruct","a","instance","Function","bind","arguments","_slicedToArray","_arrayWithHoles","_i","_s","_e","_arr","_n","_d","err","_iterableToArrayLimit","_unsupportedIterableToArray","TypeError","_nonIterableRest","_toConsumableArray","_arrayLikeToArray","_arrayWithoutHoles","iter","from","_iterableToArray","_nonIterableSpread","minLen","name","test","len","arr2","entries","isFrozen","getOwnPropertyDescriptor","freeze","seal","_ref","fun","thisValue","x","Func","func","arrayForEach","unapply","arrayPop","arrayPush","stringToLowerCase","String","stringToString","stringMatch","match","stringReplace","stringIndexOf","indexOf","stringTrim","trim","regExpTest","RegExp","typeErrorCreate","_len2","_key2","_len","_key","addToSet","array","transformCaseFunc","element","lcElement","clone","object","_step","newObject","_iterator","allowArrayLike","it","F","s","f","normalCompletion","didErr","step","return","_createForOfIteratorHelper","_step$value","property","lookupGetter","prop","desc","console","warn","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","text","html","svg","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","TMPLIT_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","getGlobal","window","_createTrustedTypesPolicy","trustedTypes","document","createPolicy","suffix","ATTR_NAME","currentScript","hasAttribute","getAttribute","policyName","createHTML","createScriptURL","scriptUrl","createDOMPurify","DOMPurify","root","version","removed","nodeType","isSupported","originalDocument","DocumentFragment","HTMLTemplateElement","Node","Element","NodeFilter","_window$NamedNodeMap","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","DOMParser","ElementPrototype","cloneNode","getNextSibling","getChildNodes","getParentNode","template","createElement","content","ownerDocument","trustedTypesPolicy","emptyHTML","_document","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","hooks","createHTMLDocument","PARSER_MEDIA_TYPE","MUSTACHE_EXPR$1","ERB_EXPR$1","TMPLIT_EXPR$1","DATA_ATTR$1","ARIA_ATTR$1","IS_SCRIPT_OR_DATA$1","ATTR_WHITESPACE$1","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","concat","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","tagNameCheck","writable","configurable","enumerable","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","SANITIZE_NAMED_PROPS","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","ALLOWED_NAMESPACES","DEFAULT_ALLOWED_NAMESPACES","SUPPORTED_PARSER_MEDIA_TYPES","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","table","tbody","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_forceRemove","node","parentNode","removeChild","remove","_removeAttribute","attribute","getAttributeNode","removeAttribute","setAttribute","_initDocument","dirty","doc","leadingWhitespace","matches","dirtyPayload","parseFromString","documentElement","createDocument","innerHTML","body","insertBefore","createTextNode","childNodes","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","_isNode","nodeName","_executeHook","entryPoint","currentNode","data","hook","_sanitizeElements","elm","textContent","attributes","namespaceURI","hasChildNodes","tagName","allowedTags","firstElementChild","_basicCustomElementTest","parent","parentTagName","_checkValidNamespace","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","attr","hookEvent","attrName","attrValue","keepAttr","allowedAttributes","_attr","forceKeepAttr","getAttributeType","setAttributeNS","_sanitizeShadowDOM","fragment","shadowNode","shadowIterator","nextNode","sanitize","importedNode","returnNode","appendChild","firstChild","nodeIterator","shadowroot","shadowrootmod","serializedHTML","outerHTML","doctype","setConfig","clearConfig","isValidAttribute","tag","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","factory","webextension","Promise","resolve","reject","getStorage","chrome","runtime","lastError","results","storage","local","sync","addStyle","css","style","head","log","getManifest","lang","selector","api","settings","i18n","message","argIndex","getMessage","assetUrl","filename","extension","getURL","injectCssResource","alert","injectjsResource","src","onload","updateDom","storageOnChanged","cb","onChanged","addListener","utils","syncRegex","requestApi","xhr","url","sendMessage","then","status","response","notification","options","database","param","settingsObj","autoTrackingModeanime","readerTracking","autoTrackingModemanga","enablePages","forceEn","rpc","presenceLargeImage","presenceShowButtons","presenceShowMalsync","userscriptModeButton","syncMode","syncModeSimkl","localSync","delay","videoDuration","malTags","malContinue","malResume","usedPage","epPredictions","theme","themeSidebars","themeColor","themeOpacity","themeImage","minimalWindow","posLeft","miniMALonMal","floatButtonStealth","minimizeBigPopup","floatButtonCorrection","floatButtonHide","autoCloseMinimal","outWay","miniMalWidth","miniMalHeight","malThumbnail","friendScore","loadPTWForProgress","quicklinks","quicklinksPosition","autofull","autoresume","autoNextEp","highlightAllEp","checkForFiller","crashReport","introSkip","introSkipFwd","introSkipBwd","nextEpShort","correctionShort","syncShort","progressInterval","progressIntervalDefaultAnime","progressIntervalDefaultManga","progressNotificationsAnime","progressNotificationsManga","bookMarksList","customDomains","anilistUpdateUi","anilistToken","anilistOptions","displayAdultContent","scoreFormat","kitsuToken","kitsuOptions","titleLanguagePreference","sfwFilter","ratingSystem","simklToken","malToken","malRefresh","shikiToken","shikiOptions","locale","debounceArray","isInit","init","tempSettings","store","rateDebounce","con","changes","namespace","storageChange","info","rateLimit","clearTimeout","$","flashm","error","permanent","setTimeout","Error","setDebounce","getAsync","request","debug","m","color","blocks","fontColor","hash","charCodeAt","colour","substr","stringToColour","temp","name2","color2","moduleText","reduce","sum","el","moduleStyle","urlPart","part","urlParts","urlStrip","urlParam","exec","decodeURI","getBaseText","children","each","j","generateUniqueID","arraySize","Uint32Array","crypto","getRandomValues","join","favicon","domain","watching","planTo","episode","rateLimitExclude","getselect","absoluteLink","startsWith","parseHtml","urlChangeDetect","currentPage","location","href","setInterval","fullUrlChangeDetect","strip","intervalId","changeDetect","immediate","waitUntilTrue","condition","interval","clearInterval","getAsyncWaitUntilTrue","rejectThis","reset","asyncWaitUntilTrue","doubleId","Math","random","checkDoubleExecution","index","after","getUrlFromTags","tags","atobURL","encoded","atob","setUrlInTags","addition","btoa","setResumeWaching","ep","id","getResumeWaching","setContinueWaching","getContinueWaching","setEntrySettings","tempOptions","JSON","stringify","find","getEntrySettings","u","tagString","parse","continueUrlObj","resumeUrlObj","handleMalImages","getTooltip","direction","rNumber","floor","timeDiffToText","delta","diffYears","diffDays","diffHours","diffMinutes","canHideTabs","browser","tabs","hide","statusTag","anime","class","title","manga","tempInfo","getStatusText","state","notifications","iconUrl","messageObj","history","shift","timestamp","Date","now","timeCache","dataFunction","ttl","getTime","extraClass","initflashm","colorF","flashdiv","position","messClass","tempClass","removeClass","fadeOut","duration","queue","complete","flashmEl","mess","hoverInfo","addClass","appendTo","minimized","slideDown","slideUp","flashConfirm","yesCall","cancelCall","yesNo","yesText","noText","flasmessage","click","evt","parentsUntil","lazyloaded","lazyimages","lazyload","scrollElement","loadImage","hasClass","img","Image","replaceChild","query","processScroll","elementInViewport","splice","scroll","horizontalOffset","rect","getBoundingClientRect","top","left","innerHeight","clientHeight","wait","ms","pageUrl","page","returnYYYYMMDD","numFromToday","d","setDate","getDate","month","getMonth","day","getFullYear","htmlDecode","isFirefox","waitForPageToBeVisible","visibilityState","awaitUi","makeDomainCompatible","clearCache","cacheArray","deleted","sortAlphabetically","b","isDomainMatching","urlObj","URL","host","endsWith","upperCaseFirstLetter","string","jQuery","htmlContent","SAFE_FOR_JQUERY","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","__esModule","definition","defineProperty","g","globalThis","toStringTag","clientId","generateRandomString","possible","ready","includes","code","replaceState","challenge","sessionStorage","getItem","headers","responseText","json","refresh_token","access_token","prepend","getRefreshToken","first","setItem","generateUrl"],"sourceRoot":""}